define("components",["lodash","santa-components","coreUtils","componentsCore","prop-types","skins","reactDOM","zepto","santa-core-utils","create-react-class","image-client-api","textCommon","backgroundCommon","santa-animations","galleriesCommon","displayer","imageZoom","comboBoxInput"],(function(e,t,i,n,s,a,o,r,p,l,c,d,u,h,m,g,y,f){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=423)}({0:function(t,i){t.exports=e},1:function(e,i){e.exports=t},10:function(e,t){e.exports=p},120:function(e,t,i){var n,s;n=[i(0),i(2),i(90),i(429),i(430)],void 0===(s=function(e,t,i,n,s){"use strict";var a=t.mediaConsts;return{balata:i,defaultMediaStyle:a.defaultMediaStyle,popupMediaStyle:a.popupMediaStyle,mediaLogicMixins:{fill:n,mediaPlayer:s},mediaBehaviors:{fill:{play:{methodName:"playMedia",params:[{name:"time",defaultValue:-1}]},playPreview:{methodName:"playPreview"},pause:{methodName:"pauseMedia",params:[{name:"time",defaultValue:-1}]},stop:{methodName:"stopMedia"},stopPreview:{methodName:"stopPreviewMedia"}},mediaPlayer:{togglePlay:{methodName:"togglePlayMedia"},play:{methodName:"playMedia",params:[{name:"time",defaultValue:-1}]},playPreview:{methodName:"previewMedia"},pause:{methodName:"pauseMedia",params:[{name:"time",defaultValue:-1}]},stop:{methodName:"stopMedia"},stopPreview:{methodName:"stopPreviewMedia"},setVolume:{methodName:"setMediaVolume",params:["volume"]},mute:{methodName:"muteMedia"},unMute:{methodName:"unMuteMedia"},seek:{methodName:"seekMedia",params:["time"]},seekStart:{methodName:"startSeekMedia"},seekEnd:{methodName:"endSeekMedia",params:["time"]},enterFullScreen:{methodName:"enterFullscreen"},exitFullScreen:{methodName:"exitFullscreen"}}}}}.apply(t,n))||(e.exports=s)},13:function(e,t){e.exports=l},180:function(e,t,i){var n,s;n=[i(0),i(1),i(4),i(3),i(6)],void 0===(s=function(e,t,i,n,s){"use strict";var a={displayName:"MenuButton",propTypes:{isMobileView:t.santaTypesDefinitions.isMobileView,isMobileDevice:t.santaTypesDefinitions.Device.isMobileDevice,isTabletDevice:t.santaTypesDefinitions.Device.isTabletDevice,compProp:t.santaTypesDefinitions.Component.compProp,compData:t.santaTypesDefinitions.Component.compData,style:t.santaTypesDefinitions.Component.style,refInParent:i.string.isRequired,isContainer:i.bool,isSelected:i.bool,display:i.string,positionInList:i.string,dir:i.string,mouseEnterHandler:i.func.isRequired,mouseLeaveHandler:i.func.isRequired,onMouseClick:i.func.isRequired,isDropDownButton:i.bool,parentId:i.string},mixins:[n.mixins.skinBasedComp,n.mixins.skinInfo],getInitialState:function(){return{$container:this.props.isContainer?"drop":"menu",$selected:this.props.isSelected?"selected":"",$state:"idle",$type:this.props.compData.link?"link":"header",$mobile:this.props.isMobileDevice||this.props.isMobileView||this.props.isTabletDevice()?"mobile":"notMobile"}},componentWillReceiveProps:function(e){this.setState({$selected:e.isSelected?"selected":""})},getSkinProperties:function(){var i,s=this.props.compData,a=this.props.compProp.alignText,o={parentConst:t.utils.createReactElement.bind(null,"a"),onClick:this.onMouseClick,"data-listposition":this.props.positionInList,tabIndex:s.link?void 0:"0"};return this.props.isDropDownButton||e.assign(o,{"aria-haspopup":this.props["aria-haspopup"]}),"mobile"!==this.state.$mobile&&e.assign(o,{onMouseEnter:this.openSubMenu,onMouseLeave:this.closeSubMenu,onFocus:this.openSubMenu,onBlur:this.closeSubMenu,onKeyDown:n.utils.accessibility.keyboardInteractions.activateBySpaceButton}),"__more__"===this.props.refInParent&&e.assign(o,{tabIndex:0}),s.link&&e.merge(o,s.link.render),{"":{tagName:this.props.tagName||"div","data-direction":this.props.direction,"data-listposition":this.props.positionInList,"data-parent-id":this.props.parentId,"data-data-id":this.props.dataId},linkElement:o,bg:{style:{textAlign:a}},label:{children:(i=s.label,(i=i&&i.trim())||"Â "),dir:this.props.dir,style:{textAlign:a}}}},openSubMenu:function(){(this.props.compData.link||"__more__"===this.props.refInParent)&&this.setState({$state:"over"});var e=s.findDOMNode(this);this.props.mouseEnterHandler(this.props.refInParent,e.getAttribute("data-listposition"))},closeSubMenu:function(){this.props.isDropDownButton&&this.setIdleState(),this.props.mouseLeaveHandler(this.props.refInParent)},onMouseClick:function(e){"notMobile"!==this.state.$mobile&&this.props.onMouseClick(e,this.props.refInParent,this.props.isDropDownButton)},setIdleState:function(){this.setState({$state:"idle"})}};return n.compRegistrar.register("core.components.MenuButton",a),a}.apply(t,n))||(e.exports=s)},181:function(e,t,i){var n,s;n=[i(0),i(2),i(3)],void 0===(s=function(e,t,i){"use strict";return{registerCommonLanguageRequirement:function(n,s){i.dataRequirementsCheckerRegistrar.registerCheckerForCompType(n,(function(i,a){var o=s(i,a);return e.compact([t.translationsLoader.getRequest(i,o,{initiator:n})])}))}}}.apply(t,n))||(e.exports=s)},2:function(e,t){e.exports=i},21:function(e,t){e.exports=c},25:function(e,t){e.exports=d},3:function(e,t){e.exports=n},38:function(e,t){e.exports=u},4:function(e,t){e.exports=s},423:function(e,t,i){var n,s;n=[i(0),i(3),i(1),i(5),i(68),i(424),i(425),i(90),i(426),i(428),i(120),i(181),i(431),i(432),i(433),i(435),i(438),i(440),i(441),i(442),i(443),i(444),i(445),i(448),i(180),i(450),i(59),i(38)],void 0===(s=function(e,t,i,n,s,a,o,r,p,l,c,d,u){"use strict";t.compRegistrar.register(i.components.MasterPage.compType,i.components.MasterPage),t.compRegistrar.register(i.components.HeaderContainer.compType,i.components.HeaderContainer),t.compRegistrar.register(i.components.FooterContainer.compType,i.components.FooterContainer),t.compRegistrar.register(i.components.Video.compType,i.components.Video),t.compRegistrar.register(i.components.FiveGridLine.compType,i.components.FiveGridLine),t.compRegistrar.register(i.components.VerticalLine.compType,i.components.VerticalLine),t.compRegistrar.register(i.components.Anchor.compType,i.components.Anchor),t.compRegistrar.register(i.components.Image.compType,i.components.Image),t.compRegistrar.register(i.components.ZoomedImage.compType,i.components.ZoomedImage),t.compRegistrar.register(i.components.ScreenWidthContainer.compType,i.components.ScreenWidthContainer),t.compRegistrar.register(i.components.PagesContainer.compType,i.components.PagesContainer),t.compRegistrar.register(i.components.PageGroup.compType,i.components.PageGroup),t.compRegistrar.register("wysiwyg.components.imageZoom",s.imageZoom),t.compRegistrar.register("wysiwyg.components.ImageZoomDisplayer",s.imageZoomDisplayer),t.compRegistrar.register("wysiwyg.viewer.components.MediaZoom",s.mediaZoom),t.compRegistrar.register("wysiwyg.viewer.components.MobileMediaZoom",s.mobileMediaZoom),t.compRegistrar.register("wysiwyg.viewer.components.TouchMediaZoom",s.touchMediaZoom),t.compRegistrar.register(i.components.SiteButton.compType,i.components.SiteButton),t.compRegistrar.register(i.components.WRichText.compType,i.components.WRichText),t.compRegistrar.register("wysiwyg.viewer.components.TouchMediaZoomItem",s.touchMediaZoomItem),t.compRegistrar.register(i.components.LegacyContainer.compType,i.components.LegacyContainer),t.compRegistrar.register("wysiwyg.viewer.components.VerticalRepeater",i.components.LegacyContainer),t.compRegistrar.register("wysiwyg.viewer.components.WSiteStructure",i.components.LegacyContainer),t.compRegistrar.register("wysiwyg.viewer.components.ScriptClassForBolt",l),t.compRegistrar.register(i.components.Container.compType,i.components.Container),t.compRegistrar.register(i.components.ThemeRenderer.compType,i.components.ThemeRenderer),t.compRegistrar.register(i.components.AppWidget.compType,i.components.AppWidget),t.compRegistrar.register(i.components.FormContainer.compType,i.components.FormContainer),t.compRegistrar.register(i.components.GroupContainer.compType,i.components.GroupContainer),t.compRegistrar.register(i.components.WPhoto.compType,i.components.WPhoto),t.compRegistrar.register("wysiwyg.viewer.components.ClipArt",i.components.ClipArt),t.compRegistrar.register(i.components.RefComponent.compType,i.components.RefComponent),t.compRegistrar.register(i.components.MembersAreaSection.compType,i.components.MembersAreaSection);var h=e.filter(i.components,(function(e){return!!e.getComponentSkins}));return e.forEach(h,(function(e){n.skinsMap.addBatch(e.getComponentSkins())})),n.skinsMap.addBatch(i.mixins.scrollMixin.getMixinSkins()),t.dataRequirementsCheckerRegistrar.registerCheckerForCompType("wysiwyg.viewer.components.WPhoto",u.checkRequirements),{siteButton:a,dropDownMenu:o,balata:r,infoTip:p,scriptClass:l,mediaCommon:c,translationRequirementsChecker:d}}.apply(t,n))||(e.exports=s)},424:function(e,t,i){var n,s;n=[i(1)],void 0===(s=function(e){"use strict";return e.components.SiteButton}.apply(t,n))||(e.exports=s)},425:function(e,t,i){var n,s;n=[i(0),i(2),i(10),i(3),i(1),i(180),i(6),i(7),i(181),i(69)],void 0===(s=function(e,t,i,n,s,a,o,r,p,l){"use strict";function c(e){return!isNaN(parseFloat(e))&&isFinite(e)}function d(e){return c(e)?parseInt(e,10):void 0}function u(e,t,i,n,s,a){return a===e.length-1?1===e.length?"dropLonely":t?"bottom":i||"right"===n?s?"left":"right":"center":0===a?t?"top":i||"left"===n?s?"right":"left":"center":t?"dropCenter":"center"}function h(i,n,s,a,o,r,p,l,c){return e.map(n,(function(d,h){var m=function(i,n,s,a,o){var r,p=e.some(s,["link.pageId.id",n]),l={AnchorLink:function(t){var i=t.link.anchorDataId;return(e.has(i,"id")?i.id:i)===r},PageLink:function(e){var t=e.link.pageId;if(!r){if(t.isPopup)return t.id===n;if(!p)return t.id===i}return!1},DynamicPageLink:function(e){return e.isSelected}};return a&&(r=t.menuUtils.getActiveAnchorInPage(o,s,i)),function(e){var t=e.link,i=t&&l[t.type];return!!i&&i(e)}}(r,p,n,c,i);return{isContainer:Boolean(s),isSelected:m(d),positionInList:u(n,s,a,o,l,h)}}))}function m(t){return e.flatMap(t,(function(t){var i=[];return t.items&&(i=e.map(t.items,(function(i){return e.assign(i,{parent:t.id})}))),[t].concat(i)}))}var g=function(e){var t=e.isResponsive,i=e.isExperimentOpen,n=e.renderType;return t||i("bv_wixDropdown")&&"bolt"===n};function y(t){var i=o.findDOMNode(t),s=n.utils.accessibility.getTabbaleElements(i,!0);r(e.head(s)).focus()}var f={displayName:"DropDownMenu",propTypes:e.assign({isMobileView:s.santaTypesDefinitions.isMobileView,isMobileDevice:s.santaTypesDefinitions.Device.isMobileDevice,isTabletDevice:s.santaTypesDefinitions.Device.isTabletDevice,anchorChangeEvent:s.santaTypesDefinitions.SiteAspects.anchorChangeEvent,currentUrlPageId:s.santaTypesDefinitions.Component.currentUrlPageId,currentPopupId:s.santaTypesDefinitions.currentPopupId,highlightAnchorsInMenu:s.santaTypesDefinitions.BrowserFlags.highlightAnchorsInMenu.isRequired,menuItems:s.santaTypesDefinitions.Menu.menuItems,id:s.santaTypesDefinitions.Component.id,refInParent:s.santaTypesDefinitions.Component.refInParent,skin:s.santaTypesDefinitions.Component.skin,compProp:s.santaTypesDefinitions.Component.compProp,compData:s.santaTypesDefinitions.Component.compData,componentPreviewState:s.santaTypesDefinitions.RenderFlags.componentPreviewState,isExperimentOpen:s.santaTypesDefinitions.isExperimentOpen.isRequired,renderType:s.santaTypesDefinitions.PublicModel.renderType,isResponsive:s.santaTypesDefinitions.RendererModel.isResponsive,getTranslatedAriaLabel:s.santaTypesDefinitions.Accessibility.getTranslatedAriaLabel.isRequired,scale:s.santaTypesDefinitions.Component.scale},s.utils.santaTypesUtils.getSantaTypesByDefinition(a),s.utils.santaTypesUtils.getSantaTypesByDefinition(l)),mixins:[n.mixins.skinBasedComp,i.timersMixins.timeoutsMixin,n.mixins.skinInfo,n.mixins.createChildComponentMixin,n.mixins.mobileDropDownMenuMixin],getInitialState:function(){return this.shouldChildrenUpdate=!1,{hover:null,hoverListPosition:null,activeAnchor:null,$dropAlign:this.props.compProp.alignButtons,$mobile:this.props.isMobileDevice||this.props.isMobileView||this.props.isTabletDevice()?"mobile":"notMobile"}},componentDidMount:function(){this.props.highlightAnchorsInMenu()&&this.props.anchorChangeEvent.registerToAnchorChange(this)},componentDidUpdate:function(){g(this.props)&&this.refs[""].reLayout()},componentWillUnmount:function(){this.props.highlightAnchorsInMenu()&&this.props.anchorChangeEvent.unregisterToAnchorChange(this)},convertItemsToChildren:function(t,i,n,s){(i=i||{}).style=i.style||{};var a=h(this.state.activeAnchor,t,s,this.props.compProp.stretchButtonsToMenuWidth,this.props.compProp.alignButtons,this.props.currentUrlPageId,this.props.currentPopupId,this.props.compProp.rtl,this.props.highlightAnchorsInMenu());return e.map(t,function(t,n){var o=(s?"moreContainer":"")+n;return this.createChildComponent(t,"core.components.MenuButton","repeaterButton",e.merge({isContainer:a[n].isContainer,isSelected:a[n].isSelected,positionInList:a[n].positionInList,id:this.props.id+o,ref:o,key:t.id,refInParent:o,mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,isDropDownButton:s,onMouseClick:this.onMouseClick,"aria-haspopup":t.items.length>0,tagName:"li",direction:this.props.compProp.rtl?"rtl":"ltr",parentId:t.parent,dataId:t.id},i))}.bind(this))},onMouseClick:function(e,t,i){if(i)this.mouseLeaveHandler();else{var n=("__more__"!==t?this.props.menuItems[t].items:[]).length>0||"__more__"===t,s=this.state.hover;!this.dropDownOpen&&n?(this.mouseEnterHandler(t),e.preventDefault(),e.stopPropagation()):this.dropDownOpen&&!this.isDropdownOwner(t,s)&&n?(this.mouseLeaveHandler(),e.preventDefault(),e.stopPropagation(),this.mouseEnterHandler(t)):this.dropDownOpen&&this.mouseLeaveHandler()}},onAnchorChange:function(e){e!==this.state.activeAnchor&&this.setState({activeAnchor:e})},isDropdownOwner:function(e,t){return e===t},createMoreButton:function(e){var t="__more__",i=e?"left":"right",n=this.props.compProp.alignButtons;return this.props.compProp.stretchButtonsToMenuWidth||"right"===n||(i="center"),this.createChildComponent({id:t,label:this.props.compProp.moreButtonLabel},"core.components.MenuButton","repeaterButton",{isSelected:!1,positionInList:i,id:this.props.id+t,ref:t,key:t,refInParent:t,mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,onFocus:this.mouseEnterHandler,onBlur:this.mouseLeaveHandler,"aria-haspopup":!0,tagName:"li",onKeyDown:this.subMenuKeyDownHandler,onMouseClick:this.onMouseClick,isDropDownButton:!1,display:"inline-block"})},mouseEnterHandler:function(i,n){this.hovering=!0,this.lastHovered=this.getCurrentTime();var s=i.replace(this.props.id,"");-1!==e.keys(this.props.menuItems).concat("__more__").indexOf(s)&&(c(s)||t.stringUtils.startsWith(i,"__"))&&i!==this.state.hover&&(this.state.hover&&this.refs[this.state.hover].setIdleState(),g(this.props)||this.registerReLayout(),this.setState({hover:i,hoverListPosition:n}))},getCurrentTime:function(){return Date.now()},mouseLeaveHandler:function(){this.hovering=!1,this.lastHovered=this.getCurrentTime(),!this.dropDownOpen&&this.state.hover&&this.refs[this.state.hover].setIdleState(),this.setTimeout(function(){var e=this.getCurrentTime()-this.lastHovered;!this.hovering&&this.state.hover&&e>=1e3&&(this.refs[this.state.hover].setIdleState(),this.dropDownOpen=!1,this.setState({hover:null,hoverListPosition:null}))}.bind(this),1e3)},getParamsFromSkins:function(){return{menuBorderY:this.getSumParamValue("menuTotalBordersY",this.props.skin),menuBtnBorder:this.getSumParamValue("menuButtonBorders",this.getSkinExports().repeaterButton.skin),ribbonEls:this.getParamFromDefaultSkin("ribbonEls").value?parseInt(this.getParamFromDefaultSkin("ribbonEls").value,10):0,labelPad:this.getFromExports("labelPad"),ribbonExtra:this.getFromExports("ribbonExtra")?Math.abs(parseInt(this.getFromExports("ribbonExtra"),10)):0}},shiftFocusToMenu:function(e){var t=this.refs["".concat(e)];this.dropDownOpen=!1,y(t),this.currentFocusedSubMenuIndex=-1},shiftFocusToSubMenu:function(e){y(this.refs["moreContainer".concat(e)]),this.currentFocusedSubMenuIndex=e},getFirstIndexOfSubMenu:function(){for(var e,t=0;t<this.subMenuItems.length;t++)if(e=o.findDOMNode(this.refs["moreContainer".concat(t)]),"none"!==window.getComputedStyle(e).display)return t;return 0},mainMenuKeyDownHandler:function(e){if("Tab"===e.key&&this.dropDownOpen)if(e.shiftKey){var t=d(this.state.hover);void 0!==t&&t-1>=0&&(e.stopPropagation(),e.preventDefault(),this.shiftFocusToMenu(t-1))}else{e.stopPropagation(),e.preventDefault();var i=this.getFirstIndexOfSubMenu();this.shiftFocusToSubMenu(i)}},subMenuKeyDownHandler:function(e){var t;if(!e.shiftKey&&"Tab"===e.key)if((t=this.currentFocusedSubMenuIndex+1)===this.subMenuItems.length){var i=d(this.state.hover);void 0!==i&&i+1<this.props.menuItems.length&&(e.stopPropagation(),e.preventDefault(),this.shiftFocusToMenu(i+1))}else e.stopPropagation(),e.preventDefault(),this.shiftFocusToSubMenu(t);if(e.shiftKey&&"Tab"===e.key)if(e.stopPropagation(),e.preventDefault(),(t=this.currentFocusedSubMenuIndex-1)<0||t<this.getFirstIndexOfSubMenu()){var n=d(this.state.hover);void 0===n&&(n="__more__"),this.shiftFocusToMenu(n)}else this.shiftFocusToSubMenu(t)},createHoverChildren:function(e){var t=this.convertItemsToChildren(e,{style:{width:"100%"},display:"block",prefix:"_",subMenu:!0},!0,!0);return t.length>0&&(this.dropDownOpen=!0,this.subMenuItems=t),t},checkMoreVisibilityInPreviewState:function(t,i){var n,s;if(this.props.isExperimentOpen("previewSubMenu")&&(s=this.props.componentPreviewState,e.includes(s,"open"))){t="inherit";var a=function(e){return e.items.length>0};n=e.findIndex(this.props.menuItems,a);var o=e.find(this.props.menuItems,a),r="__more__"===this.state.hover?m(this.props.menuItems):[],p=o?o.items:r;p.length&&(i=this.createHoverChildren(p)),i.length>0&&(t="inherit")}return{firstParentIndex:n,hoverChildrenOverride:i,moreVisibilityOverride:t}},applyPreviewStateIfNeeded:function(t,i){var n,s=this.checkMoreVisibilityInPreviewState(t,i),a=s.firstParentIndex,o=s.hoverChildrenOverride,r=s.moreVisibilityOverride,p=e.isUndefined(a)?"":a;return n=e.isString(this.state.hover)&&!e.isEmpty(this.state.hover)?this.state.hover:e.isNumber(p)?p:null,{dropPosition:this.state.hover?this.state.hoverListPosition:p,moreContainerHoverIndex:n,hoverChildrenOverride:o,moreVisibilityOverride:r}},getAriaLabel:function(){return this.props.getTranslatedAriaLabel("AriaLabels","dropDownMenu_AriaLabel_TopLevel_SiteNavigation","Site")},getSkinProperties:function(){if(this.props.isMobileView){var t=this.flattenMenuItems(this.props.menuItems),i=this.convertMenuItemsToComboBoxItems.call(this,t,this.props.compProp.alignText);return{"":{tagName:"nav","aria-label":this.getAriaLabel()},navContainer:this.createChildComponent({options:i,value:this.getSelectedPage(i),id:"navContainer"},"wysiwyg.viewer.components.inputs.ComboBoxInput","navContainer",{onSelectionChange:this.onSelectionChange,scale:this.props.scale,compProp:{class:"mobileMenuContainer",collectionClass:"mobileCollection",textAlignment:this.props.compProp.alignText,textPadding:20,placeholder:{text:"Choose a page",value:"Choose a page"}},setRuntimeCompData:e.noop,setRuntimeCompProps:e.noop})}}var n=this.getParamsFromSkins(),s=this.convertItemsToChildren(this.props.menuItems,{display:"inherit"},null,null),a=[],o="hidden";s.push(this.createMoreButton(this.props.compProp.rtl)),(c(this.state.hover)&&this.props.menuItems[this.state.hover]||"__more__"===this.state.hover)&&(a=this.createHoverChildren(c(this.state.hover)?this.props.menuItems[this.state.hover].items:m(this.props.menuItems))).length>0&&(o="inherit");var r=this.applyPreviewStateIfNeeded(o,a),p=r.dropPosition,l=r.moreVisibilityOverride,d=r.moreContainerHoverIndex,u=r.hoverChildrenOverride;return{"":{id:this.props.id,key:this.props.refInParent,className:"hidden-during-prewarmup",style:{overflowX:"hidden"},"data-stretch-buttons-to-menu-width":!!this.props.compProp.stretchButtonsToMenuWidth,"data-same-width-buttons":!!this.props.compProp.sameWidthButtons,"data-num-items":e.size(this.props.menuItems),"data-menuborder-y":n.menuBorderY,"data-menubtn-border":n.menuBtnBorder,"data-ribbon-els":n.ribbonEls,"data-label-pad":n.labelPad,"data-ribbon-extra":n.ribbonExtra,"data-drophposition":p,"data-dropalign":this.props.compProp.alignButtons,dir:this.props.compProp.rtl?"rtl":"ltr",tagName:g(this.props)?"wix-dropdown-menu":"div"},navContainer:{"aria-label":this.getAriaLabel()},itemsContainer:{children:s,style:{textAlign:this.props.compProp.alignButtons},onKeyDown:this.mainMenuKeyDownHandler},moreContainer:{onKeyDown:this.subMenuKeyDownHandler,children:u,"data-hover":d,style:{visibility:l},id:"".concat(this.props.id,"moreContainer")},dropWrapper:{style:{visibility:l},"data-drophposition":p,"data-dropalign":this.props.compProp.alignButtons}}}};return n.compRegistrar.register("wysiwyg.viewer.components.menus.DropDownMenu",f),p.registerCommonLanguageRequirement("wysiwyg.viewer.components.menus.DropDownMenu",(function(t,i){return e.get(i,["properties","dataLang"])})),f}.apply(t,n))||(e.exports=s)},426:function(e,t,i){var n,s;n=[i(0),i(2),i(10),i(1),i(427),i(6),i(3)],void 0===(s=function(e,t,i,n,s,a,o){"use strict";var r=t.style.assignStyle;function p(){d.call(this)}function l(){this.setTimeoutNamed("closeTipByTimeout",p.bind(this),3e3)}function c(e,t){u.call(this,a.findDOMNode(t.source))}function d(){this.clearTimeoutNamed("openTip"),this.setState({$hidden:"hidden",runTimer:!0})}function u(e){this.setState({$hidden:"",isShown:!0,caller:e}),l.call(this)}function h(){var t,i;this.state.isShown&&(t=a.findDOMNode(this),i=s.getPosition(this.state.caller,t),r(t,e.pick(i,["top","left","right"])))}var m={displayName:"InfoTip",mixins:[o.mixins.skinBasedComp,i.timersMixins.timeoutsMixin],propTypes:{compData:n.santaTypesDefinitions.Component.compData.isRequired},onMouseEnter:function(){this._isMouseInside=!0},onMouseLeave:function(){this._isMouseInside=!1,d.call(this)},showToolTip:function(t,i){var n;(n=i.source.props.compData)&&e.isEmpty(n.description)||(this.clearTimeoutNamed("hideTipByClose"),this.setTimeoutNamed("openTip",function(){c.call(this,t,i)}.bind(this),500))},closeToolTip:function(){this.setTimeoutNamed("hideTipByClose",function(){this._isMouseInside||d.call(this)}.bind(this),150)},getSkinProperties:function(){return{content:{children:[this.props.compData.content]}}},componentDidUpdate:function(){h.call(this)},getInitialState:function(){return{$hidden:"hidden",isMouseInside:!1}}};return o.compRegistrar.register("wysiwyg.common.components.InfoTip",m),m}.apply(t,n))||(e.exports=s)},427:function(e,t,i){var n,s;n=[i(7)],void 0===(s=function(e){"use strict";function t(t,i,n,s){var a,o=e(window.document.body).scrollTop();return t-o<0?((a=i.top+s.height)>n+o+s.height&&(a=i.top<0?i.top:o),a>0?a:0):t}function i(e,t,i,n){return t>n?"auto":e<0?i.left:e}function n(e,t,i){return e>i?t.left+t.width:e}return{getPosition:function(s,a){s=e(s);var o={width:(a=e(a)).width(),height:a.height()},r=function(e){return e.offset()}(s),p=function(e,t){return{top:e.top-t.height,left:e.left-t.width/2,right:"auto"}}(r,o);return p=function(e,t){var i,n=0,s=0,a=t.offsetParent();return a&&(n=(i=a.offset()).top,s=i.left),{top:e.top-n,left:e.left-s,right:"auto"===e.right?e.right:e.right+s}}(p=function(e,s,a){var o=window.innerWidth,r=window.innerHeight;return{top:t(e.top,s,r,a),left:i(e.left,e.right,s),right:n(e.right,s,o)}}(p,r,o),a)}}}.apply(t,n))||(e.exports=s)},428:function(e,t,i){var n,s;n=[i(1),i(4),i(13),i(6)],void 0===(s=function(e,t,i,n){"use strict";function s(e){return'window.loadedScripts = window.loadedScripts || {}; window.loadedScripts["'.concat(e.NAME,'"] = true;')}return i({displayName:"scriptClass",propTypes:{scriptData:t.shape({script:t.shape({NAME:t.string.isRequired,SRC:t.string.isRequired}).isRequired}).isRequired},loaded:!1,componentDidMount:function(){var e,t,i,s=this.props.scriptData,a=function(e){return window.loadedScripts&&window.loadedScripts[e.NAME]}(s.script);a&&!this.loaded?this.fireCallbacks(s,!0):(i=this,a=window.document.createElement("script"),e=function(){i.fireCallbacks(s,!1),i.loaded=!0,a.removeEventListener("load",e)},a.addEventListener("load",e),a.src=s.script.SRC,(t=n.findDOMNode(this)).replaceChild(a,t.children[0]))},fireCallbacks:function(e,t){e.callbacks.forEach((function(e){var i=e.context;i?e.callback.call(i,{fromCache:t}):e.callback({fromCache:t})})),e.callbacks.length=0},render:function(){var t=this.props.scriptData.script,i="script-".concat(t.NAME);return e.utils.createReactElement("div",null,e.utils.createReactElement("script",{id:i,src:t.SRC}),e.utils.createReactElement("script",{dangerouslySetInnerHTML:{__html:s(t)}}))}})}.apply(t,n))||(e.exports=s)},429:function(e,t,i){var n,s;n=[i(1),i(0),i(4),i(2),i(90),i(47)],void 0===(s=function(e,t,i,n,s,a){"use strict";var o=n.mediaConsts,r=n.containerBackgroundUtils,p=n.containerBackgroundUtils,l=a.animationProperties,c=void 0===l?{}:l;function d(e){return t.get(e.compDesign,["background"],t.get(e.compData,["background"]))||{}}function u(e){return d(e).mediaRef||{}}function h(e){return"editor"===e.componentViewMode}function m(e){var i=e.compBehaviors,n=e.isDesktopDevice,s=e.isMobileView,a=n();if(t.isEmpty(i))return"";if(!a||s)return"";var o=t(i).filter({action:"bgScrub"}).map("name").sortBy().value();return 1===o.length?o[0]:p.getBgEffectName(i,a,s)}return{propTypes:t.defaults({id:e.santaTypesDefinitions.Component.id.isRequired,styleId:e.santaTypesDefinitions.Component.styleId.isRequired,compProp:e.santaTypesDefinitions.Component.compProp,compData:e.santaTypesDefinitions.Component.compData,compDesign:e.santaTypesDefinitions.Component.compDesign,compStaticBehaviors:e.santaTypesDefinitions.Component.compStaticBehaviors,isExperimentOpen:e.santaTypesDefinitions.isExperimentOpen,isInSeo:e.santaTypesDefinitions.isInSeo,bgStyle:i.object,shouldRenderSrc:e.santaTypesDefinitions.Media.shouldRenderSrc,onClick:i.func,mediaAspect:e.santaTypesDefinitions.SiteAspects.mediaAspect.isRequired,renderParts:e.santaTypesDefinitions.Media.renderParts,playbackFormat:e.santaTypesDefinitions.Media.playbackFormat,playbackConfig:e.santaTypesDefinitions.Media.playbackConfig,playbackUrl:e.santaTypesDefinitions.Media.playbackUrl,isMobileView:e.santaTypesDefinitions.isMobileView.isRequired,isPlayingAllowed:e.santaTypesDefinitions.RenderFlags.isPlayingAllowed.isRequired,componentViewMode:e.santaTypesDefinitions.RenderFlags.componentViewMode.isRequired,enableBackgroundVideo:e.santaTypesDefinitions.Media.enableBackgroundVideo,renderFixedPositionBackgrounds:e.santaTypesDefinitions.RenderFlags.renderFixedPositionBackgrounds},e.utils.santaTypesUtils.getSantaTypesByDefinition(s)),getInitialState:function(){return this.isInViewport=!1,this.mediaAPI=null,this.currentVisibilityState={hidden:!1},{}},componentDidMount:function(){this.props.mediaAspect.initFeatureDetections(),this.registerPlayer(this.props)},componentWillUnmount:function(){this.unregisterPlayer(this.props)},commponentDidUpdate:function(e){this.handleVideoDataChange(e,this.props)},handleAutoplay:function(e){var t=e.isPlayingAllowed&&u(e).autoplay;this.isInViewport&&t&&this._playMedia({persist:!0})},handleVideoDataChange:function(e,i){var n=u(i),s=u(e);n.videoId&&n.videoId!==s.videoId||t.includes(i.renderParts.media.video,"video")&&!t.includes(e.renderParts.media.video,"video")?(this.unregisterPlayer(e),this.registerPlayer(i)):n.autoplay!==s.autoplay&&e.isPlayingAllowed&&(n.autoplay?this._playMedia():this.pauseMedia())},registerPlayer:function(e){var i=u(e);if("WixVideo"===t.get(i,"type")&&t.includes(e.renderParts.media.video,"video")){var n={playerType:"mediaContainer",mediaData:i,services:{viewport:{callback:this.onViewportChange,eventTypes:["in","out"]},visibility:{callback:this.onVisibilityChange},fileAvailability:{callback:this.onFileAvailability,videoParts:[{name:"video",quality:i.qualities[0].quality}]}}};e.mediaAspect.registerPlayer(e.id,n)}},unregisterPlayer:function(e){e.mediaAspect.unregisterPlayer(e.id)},updatePlayerState:function(e,t){e.mediaAspect.updatePlayerState(e.id,t)},updateQualityState:function(e,t,i){e.mediaAspect.updateQualityState(t,i)},onMediaStateChange:function(e){var i=this.mediaStateChangeLogic(e);t.isEmpty(i)||this.updatePlayerState(this.props,i)},mediaStateChangeLogic:function(e){var i={};switch(e.type){case o.eventTypes.MOUNT:i=Object.assign(t.omit(e,"type"),{volume:1});break;case o.eventTypes.LOAD:i=t.omit(e,["type","originalEventType"]),e.playbackState===o.playbackTypes.READY&&(i.mediaReadyState=o.availabilityReadyStates.IDLE,this.handleAutoplay(this.props));break;case o.eventTypes.PLAYSTATE:switch(e.playbackState){case o.playbackTypes.PLAY_ENDED:i={playbackState:o.playbackTypes.PLAY_ENDED,previousPlaybackState:""};break;default:i={playbackState:e.playbackState,mediaReadyState:o.availabilityReadyStates.IDLE}}break;case o.eventTypes.ERROR:e.error===o.errorTypes.NO_HLS_VIDEO?this.updateQualityState(this.props,u(this.props).videoId,{error:"",fallback:!0}):e.error===o.errorTypes.NO_VIDEO_FOUND&&(i={mediaReadyState:o.availabilityReadyStates.IN_PROCESS});break;case o.eventTypes.VOLUME:i={volume:e.volume,muted:e.muted};break;case o.eventTypes.RATE:case o.eventTypes.TIME_UPDATE:}return i},videoVisibilityChangeHandler:function(){var e=this.currentVisibilityState,t=this.props.mediaAspect.getData(this.props.id);!e.hidden&&e.in?t.previousPlaybackState===o.playbackTypes.PLAYING?this._playMedia():t.playbackState!==o.playbackTypes.LOADING&&t.playbackState!==o.playbackTypes.READY||this.handleAutoplay(this.props):this.pauseMedia()},onViewportChange:function(e){var t=!h(this.props)&&!e.isFixed;this.isInViewport=!!e.in,Object.assign(this.currentVisibilityState,e),t&&this.videoVisibilityChangeHandler()},onVisibilityChange:function(e){var t=!h(this.props);Object.assign(this.currentVisibilityState,e),t&&this.videoVisibilityChangeHandler()},onFileAvailability:function(e){var t=e.readyQualities;t.length&&this.updateQualityState(this.props,e.videoId,{readyQualities:t,error:""}),this.updatePlayerState(this.props,{mediaReadyState:e.availabilityState})},setMediaAPI:function(e){this.mediaAPI=e},mediaCommandsLogic:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.mediaAPI&&this.mediaAPI(e,t)},playPreview:function(e){this.mediaCommandsLogic("play",{callback:e})},playMedia:function(e){this._playMedia({persist:!0,callback:e})},pauseMedia:function(e){this.mediaCommandsLogic("pause",{callback:e})},stopMedia:function(e){this.mediaCommandsLogic("stop",{callback:e})},stopPreviewMedia:function(e){this.mediaCommandsLogic("stop",{reset:!0,callback:e})},_playMedia:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.persist,i=e.callback;t&&this.updatePlayerState(this.props,{previousPlaybackState:o.playbackTypes.PLAYING}),this.mediaCommandsLogic("play",{callback:i})},getIsFullScreenHeight:function(){var e=m(this.props),t=c[e];return!(!e||"none"===e)&&(t&&t.requestFullScreenHeight)},getIsFullScreenAndFixed:function(){return this.props.renderFixedPositionBackgrounds&&this.getIsFullScreenHeight()},createFillLayers:function(e){var i,n,s,a,p,l=t.assign({},this.props,e),c={skin:"skins.viewer.balata.balataBaseSkin",styleId:l.styleId+o.balataConsts.BALATA},g=d(l),y=u(l),f="WixVideo"===(i=y).mediaType?i.posterImageRef:i,v=l.isMobileView?"mobile":"desktop",b=m(this.props),P=this.getIsFullScreenHeight(),S=this.getIsFullScreenAndFixed(),k={ref:o.balataConsts.BALATA,id:l.id+o.balataConsts.BALATA,key:(h(l)?"no-playback":"playback")+v,parentId:l.id,style:t.defaults(l.bgStyle,o.defaultMediaStyle,{width:"100%",height:"100%"}),compBehaviors:l.compStaticBehaviors,compProp:(n=y,s=this.props.compProp,a=t.pick(n,o.playback.SUPPORTED_MEDIA_ATTRIBUTES),p=t.pick(s,o.playback.SUPPORTED_MEDIA_ATTRIBUTES.concat(o.supportedParentProps)),t.assign(a,p)),compDesign:l.compDesign,
//!! for handleDesignDataBehaviors, relevant for hoverBox in classic only.
onClick:l.onClick,notifyMediaState:this.onMediaStateChange,setMediaAPI:this.setMediaAPI,isPlayingAllowed:l.isPlayingAllowed,isEditorMode:h(l),shouldRenderSrc:l.shouldRenderSrc,enableVideo:this.props.enableBackgroundVideo,enableBackgroundPadding:l.isMobileView,renderParts:l.renderParts,playbackFormat:l.playbackFormat,playbackConfig:l.playbackConfig,playbackUrl:l.playbackUrl,containerStyle:l.style,bgData:g,bgEffectName:b,isFullScreenHeight:P,isFullScreenAndFixed:S,label:y.alt};if(this.props.shouldRenderSrc&&!t.isEmpty(f)){var T=r.convertStyleToDimensions(t.defaults(l.mediaDimensions,t.pick(l.style,["width","height"])));k.mediaDimensions=T,k.imageUrlPreMeasureParams=r.getImageUrlPreMeasureParams(T,f,g.fittingType,g.alignType,l.isMobileView,l.isInSeo)}return this.createChildComponent(l.compData,"wysiwyg.viewer.components.background.Balata",c,k)}}}.apply(t,n))||(e.exports=s)},430:function(e,t,i){var n,s;n=[i(1),i(0),i(4),i(2),i(90)],void 0===(s=function(e,t,i,n,s){"use strict";var a=n.containerBackgroundUtils,o=n.mediaConsts,r=n.siteConstants.ACTION_TYPES;function p(e){return t.get(e.compDesign,["background"],t.get(e.compData,["background"]))||{}}function l(e){return p(e).mediaRef||{}}function c(e){return"editor"===e.componentViewMode}return{propTypes:t.defaults({animations:e.santaTypesDefinitions.animations.isRequired,id:e.santaTypesDefinitions.Component.id.isRequired,styleId:e.santaTypesDefinitions.Component.styleId.isRequired,compData:e.santaTypesDefinitions.Component.compData,compProp:e.santaTypesDefinitions.Component.compProp,compDesign:e.santaTypesDefinitions.Component.compDesign,compStaticBehaviors:e.santaTypesDefinitions.Component.compStaticBehaviors,isInSeo:e.santaTypesDefinitions.isInSeo,bgStyle:i.object,onClick:i.func,shouldRenderSrc:e.santaTypesDefinitions.Media.shouldRenderSrc,renderParts:e.santaTypesDefinitions.Media.renderParts,playbackFormat:e.santaTypesDefinitions.Media.playbackFormat,playbackConfig:e.santaTypesDefinitions.Media.playbackConfig,playbackUrl:e.santaTypesDefinitions.Media.playbackUrl,mediaAspect:e.santaTypesDefinitions.SiteAspects.mediaAspect.isRequired,isPlayingAllowed:e.santaTypesDefinitions.RenderFlags.isPlayingAllowed.isRequired,componentViewMode:e.santaTypesDefinitions.RenderFlags.componentViewMode.isRequired,canVideoPlayInline:e.santaTypesDefinitions.Media.canVideoPlayInline,enableMaskedVideo:e.santaTypesDefinitions.Media.enableMaskedVideo,maskPosterFallback:e.santaTypesDefinitions.Media.maskPosterFallback},e.utils.santaTypesUtils.getSantaTypesByDefinition(s)),getInitialState:function(){return this.isInViewport=!1,this.mediaAPI=null,this.volumeAnimation={value:null,animation:null},this.visibilityStateListeners={},this.currentVisibilityState={hidden:!1},this.publicState={},{enableVideo:!0}},updatePublicState:function(e){var t,i=this.publicState,n=e.volume,s=void 0===n?i.volume:n,a=e.duration,r=void 0===a?i.duration:a,p=e.muted,l=void 0===p?i.isMuted:p,c=e.currentTime,d=void 0===c?i.currentTime:c;this.props.isPlayingAllowed&&(t=e.playbackState?e.playbackState===o.playbackTypes.PLAYING||e.previousPlaybackState===o.playbackTypes.PLAYING:i.isPlaying);var u=l||s<0;this.publicState={isPlaying:t,currentTime:d,duration:r,volume:s,isMuted:u},this.props.setCompState(this.props.id,this.publicState)},componentDidMount:function(){this.props.mediaAspect.initFeatureDetections(),this.registerPlayer(this.props)},componentWillUnmount:function(){this.visibilityStateListeners={},this.unregisterPlayer(this.props)},componentDidUpdate:function(e){this.handleVideoPropsChange(e)},registerPlayer:function(e){var i=l(e);if(e.canVideoPlayInline&&"WixVideo"===t.get(i,"type")&&t.includes(e.renderParts.media.video,"video")){var n={playerType:"mediaPlayer",mediaData:i,services:{viewport:{callback:this.onViewportChange,eventTypes:["in","out"]},visibility:{callback:this.onVisibilityChange},fileAvailability:{callback:this.onFileAvailability,videoParts:[{name:"video",quality:i.qualities[0].quality},{name:"storyboard",quality:"storyboard"}]}}};e.mediaAspect.registerPlayer(e.id,n)}},unregisterPlayer:function(e){e.mediaAspect.unregisterPlayer(e.id)},updatePlayerState:function(e,t){e.mediaAspect.updatePlayerState(e.id,t),this.updatePublicState(t)},updateQualityState:function(e,t,i){e.mediaAspect.updateQualityState(t,i)},getPlayerState:function(){return this.props.mediaAspect.getData(this.props.id)},handleAutoplay:function(e){var t=e.compProp.autoplay&&e.isPlayingAllowed;this.isInViewport&&e.canVideoPlayInline&&t&&this._playMedia({persist:!0})},handleVideoPropsChange:function(e){var i=this.props,n=l(i),s=l(e),a=c(this.props),o=c(e),r=this.props.isPlayingAllowed,p=e.isPlayingAllowed,d=this.getPlayerState();n.videoId===s.videoId&&i.canVideoPlayInline===e.canVideoPlayInline&&t.isEqual(i.renderParts.media.video,e.renderParts.media.video)||(this.unregisterPlayer(e),this.registerPlayer(i),this.setState({enableVideo:!0}),r&&this.updatePlayerState(this.props,{previousPlaybackState:d.previousPlaybackState,muted:d.muted,volume:d.volume})),a===o&&r===p||(a?(this.notifyVisibilityState({in:this.isInViewport}),this.stopPreviewMedia()):(this.resetPlaybackState(i),this.notifyVisibilityState({in:this.isInViewport}),this.handleAutoplay(i)))},resetPlaybackState:function(e){var t=e.compProp.autoplay&&e.isPlayingAllowed;this.updatePlayerState(e,{playbackState:t?"":o.playbackTypes.READY,previousPlaybackState:t?o.playbackTypes.PLAYING:""})},videoVisibilityChangeHandler:function(){var e=this.currentVisibilityState,t=this.getPlayerState();!e.hidden&&e.in?t.previousPlaybackState===o.playbackTypes.PLAYING?(this.updatePlayerState(this.props,{playbackPausedByService:!1}),this._playMedia()):(""===t.playbackState&&""===t.previousPlaybackState||t.playbackState===o.playbackTypes.LOADING||t.playbackState===o.playbackTypes.READY)&&this.handleAutoplay(this.props):t.previousPlaybackState===o.playbackTypes.PLAYING&&(this.updatePlayerState(this.props,{playbackPausedByService:!0}),this._pauseMedia()),this.notifyVisibilityState(e)},onViewportChange:function(e){var t=this.props.canVideoPlayInline&&!c(this.props)&&!e.isFixed;this.isInViewport=!!e.in,Object.assign(this.currentVisibilityState,e),t&&this.videoVisibilityChangeHandler()},addVisibilityStateListener:function(e){var i=this,n=t.uniqueId("MPVisibilityCallback");return this.visibilityStateListeners[n]=e,function(){delete i.visibilityStateListeners[n]}},notifyVisibilityState:function(e){var t=this;Object.keys(this.visibilityStateListeners).forEach((function(i){return t.visibilityStateListeners[i](e)}))},onVisibilityChange:function(e){var t=this.props.canVideoPlayInline&&!c(this.props);Object.assign(this.currentVisibilityState,e),t&&this.videoVisibilityChangeHandler()},onFileAvailability:function(e){var t=e.readyQualities;switch(e.type){case"video":t.length&&this.updateQualityState(this.props,e.videoId,{readyQualities:t,error:""}),this.updatePlayerState(this.props,{mediaReadyState:e.availabilityState});break;case"storyboard":this.updateQualityState(this.props,e.videoId,{storyboardQuality:t,storyboardReadyState:t.length?o.availabilityReadyStates.IDLE:""})}},onMediaStateChange:function(e){if(this.props.canVideoPlayInline){var i=this.mediaStateChangeLogic(e,this.getPlayerState());t.isEmpty(i)||this.updatePlayerState(this.props,i)}},mediaStateChangeLogic:function(e,i){var n={},s=i.volume,a=void 0===s?1:s;switch(e.type){case o.eventTypes.MOUNT:n=Object.assign(t.omit(e,"type"),{volume:a});break;case o.eventTypes.LOAD:n=t.omit(e,["type","originalEventType"]),e.playbackState===o.playbackTypes.READY&&(n.mediaReadyState=o.availabilityReadyStates.IDLE,this.handleAutoplay(this.props));break;case o.eventTypes.PLAYSTATE:switch(e.playbackState){case o.playbackTypes.PLAY_ENDED:n={playbackState:o.playbackTypes.PLAY_ENDED,previousPlaybackState:""},this.handleAction(r.ON_ENDED);break;case o.playbackTypes.PLAYING:n={playbackState:e.playbackState,mediaReadyState:o.availabilityReadyStates.IDLE},this.handleAction(r.ON_PLAY);break;case o.playbackTypes.PAUSED:n={playbackState:e.playbackState,mediaReadyState:o.availabilityReadyStates.IDLE},this.handleAction(r.ON_PAUSE);break;default:n={playbackState:e.playbackState,mediaReadyState:o.availabilityReadyStates.IDLE}}break;case o.eventTypes.ERROR:var p=l(this.props).videoId;e.error===o.errorTypes.NO_HLS_VIDEO?this.updateQualityState(this.props,p,{fallback:!0}):e.error===o.errorTypes.NO_VIDEO_FOUND?n={mediaReadyState:o.availabilityReadyStates.IN_PROCESS}:e.error===o.errorTypes.WEBGL_ERROR&&this.setState({enableVideo:!1});break;case o.eventTypes.VOLUME:if(t.isNumber(this.volumeAnimation.value)||i.volume<0)break;if(i.playbackState===o.playbackTypes.PLAY_PREVIEW)break;n={volume:e.volume,muted:e.muted};break;case o.eventTypes.RATE:break;case o.eventTypes.TIME_UPDATE:this.updatePublicState({currentTime:e.currentTime}),this.handleAction(r.ON_PROGRESS)}return n},mediaCommandsLogic:function(e){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.props.canVideoPlayInline&&this.mediaAPI){var s=n.callback,a=n.reset,r=this.getPlayerState(),p=r.playbackState===o.playbackTypes.PLAYING,l=t.includes([o.playbackTypes.SEEK_PLAYING,o.playbackTypes.SEEK_PAUSED,o.playbackTypes.SEEKING],r.playbackState);switch(e){case"togglePlay":p?this._pauseMedia({persist:!0,callback:s}):this._playMedia({persist:!0,callback:s});break;case"play":var c=n.time,d=void 0===c?-1:c;if(r.playbackState===o.playbackTypes.PLAY_ENDED){if(!1===this.props.compProp.playerInteraction.allowReplay)break;d<0&&(d=0)}d>=0&&this.seekMedia(d),this.mediaAPI("play",{callback:s});break;case"preview":this.updatePlayerState(this.props,{playbackState:o.playbackTypes.PLAY_PREVIEW}),this.mediaAPI("mute"),this.mediaAPI("play");break;case"pause":var u=n.time,h=void 0===u?-1:u;this.mediaAPI("pause",{callback:s}),h>=0&&this.seekMedia(h);break;case"seekStart":if(l)break;this.updatePlayerState(this.props,{playbackState:p?o.playbackTypes.SEEK_PLAYING:o.playbackTypes.SEEK_PAUSED}),p&&this._pauseMedia();break;case"seekEnd":var m=n.time;this.seekMedia(m);break;case"stop":this.updatePlayerState(this.props,{playbackState:o.playbackTypes.STOPPING,previousPlaybackState:o.playbackTypes.PAUSED}),this.mediaAPI("stop",{callback:s,reset:a});break;case"mute":case"unMute":this.mediaAPI(e,{callback:s}),this.updatePlayerState(this.props,{volume:Math.abs(r.volume)});break;case"volumeFadeOut":var g=r.volume,y=r.muted;if(y)break;var f=n.duration;this.volumeAnimation.animation&&this.props.animations.kill(this.volumeAnimation.animation),this.volumeAnimation.value=this.volumeAnimation.value||g,this.volumeAnimation.animation=this.props.animations.animate("BaseObjectProps",this.volumeAnimation,f,0,{value:0,ease:"Sine.easeOut",callbacks:{onStart:function(){i.updatePlayerState(i.props,{volume:-g})},onUpdate:function(){i.mediaAPI("setVolume",{volume:i.volumeAnimation.value})},onComplete:function(){i.volumeAnimation={value:null,animation:null},s&&s()}}});break;case"volumeFadeIn":var v=r.volume,b=r.muted;if(b)break;var P=n.duration;this.volumeAnimation.animation&&this.props.animations.kill(this.volumeAnimation.animation),this.volumeAnimation.value=this.volumeAnimation.value||0,this.volumeAnimation.animation=this.props.animations.animate("BaseObjectProps",this.volumeAnimation,P,0,{value:Math.abs(v),ease:"Sine.easeIn",callbacks:{onStart:function(){i.updatePlayerState(i.props,{volume:Math.abs(v)})},onUpdate:function(){i.mediaAPI("setVolume",{volume:i.volumeAnimation.value})},onComplete:function(){i.volumeAnimation={value:null,animation:null},s&&s()}}});break;default:this.mediaAPI(e,n)}}},getMuteValueByAutoPlayPolicy:function(e,i){var n=[o.playbackTypes.PLAYING,o.playbackTypes.PLAY_PREVIEW,o.playbackTypes.SEEK_PLAYING];if(c(this.props)&&t.includes(n,i.playbackState))return!0;if(!c(this.props)&&!t.isUndefined(i.muted))return i.muted;if(e.compProp.autoplay&&(t.isUndefined(i.muted)||c(this.props)))return!0;var s=e.isMobileDevice||e.isMobileView,a="none"!==e.compProp.playerInteraction.rollIn;return!(s||!a)},setMediaAPI:function(e){this.mediaAPI=e},togglePlayMedia:function(e){this.mediaCommandsLogic("togglePlay",{callback:e})},playMedia:function(e,t){this._playMedia({persist:!0,time:e,callback:t})},previewMedia:function(e){this.notifyVisibilityState({in:!0,forcePlay:!0}),this.mediaCommandsLogic("preview",{callback:e})},pauseMedia:function(e,t){this._pauseMedia({persist:!0,time:e,callback:t})},stopMedia:function(e){this._stopMedia({persist:!0,callback:e})},stopPreviewMedia:function(e){this._stopMedia({persist:!0,callback:e,reset:!0})},setMediaVolume:function(e){this.mediaCommandsLogic("setVolume",{volume:e})},muteMedia:function(e){this.mediaCommandsLogic("mute",{callback:e})},unMuteMedia:function(e){this.mediaCommandsLogic("unMute",{callback:e})},mediaVolumeFadeOut:function(e,t){this.mediaCommandsLogic("volumeFadeOut",{duration:e,callback:t})},mediaVolumeFadeIn:function(e,t){this.mediaCommandsLogic("volumeFadeIn",{duration:e,callback:t})},seekMedia:function(e){this.mediaCommandsLogic("seek",{time:e})},startSeekMedia:function(e){this.mediaCommandsLogic("seekStart",{time:e})},endSeekMedia:function(e){this.mediaCommandsLogic("seekEnd",{time:e})},_playMedia:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.persist,i=e.time,n=e.callback;t&&this.updatePlayerState(this.props,{previousPlaybackState:o.playbackTypes.PLAYING}),this.mediaCommandsLogic("play",{time:i,callback:n})},_pauseMedia:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.persist,i=e.time,n=e.callback;t&&this.updatePlayerState(this.props,{previousPlaybackState:o.playbackTypes.PAUSED}),this.mediaCommandsLogic("pause",{time:i,callback:n})},_stopMedia:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.persist,i=e.callback,n=e.reset;t&&this.updatePlayerState(this.props,{previousPlaybackState:o.playbackTypes.STOPPED}),this.mediaCommandsLogic("stop",{callback:i,reset:n})},createFillLayers:function(e){var i=this,n=t.assign({},this.props,e),s=this.getPlayerState(),r=s.volume,d=void 0===r?1:r,u={skin:"skins.viewer.balata.balataBaseSkin",styleId:n.styleId+o.balataConsts.BALATA};n.compProp.mute=this.getMuteValueByAutoPlayPolicy(n,s),n.compProp.volume=Math.abs(d);var h,m=l(n),g=p(n),y={ref:o.balataConsts.BALATA,id:n.id+o.balataConsts.BALATA,animations:n.animations,parentId:n.id,style:t.assign({},o.defaultMediaStyle,{width:"100%",height:"100%"},n.styleOverrides),compBehaviors:n.compStaticBehaviors,compProp:n.compProp,compDesign:n.compDesign,rotationInDegrees:n.rotationInDegrees,onClick:n.onClick,notifyMediaState:this.onMediaStateChange,registerStateChange:function(e,t){return i.props.mediaAspect.registerStateChange(e,i.props.id,t)},unregisterStateChange:function(e){return i.props.mediaAspect.unregisterStateChange(e,i.props.id)},setMediaAPI:this.setMediaAPI,enableVideo:n.enableVideo&&n.enableMaskedVideo&&this.state.enableVideo,shouldRenderSrc:n.shouldRenderSrc,imageUrlPreMeasureParams:n.imageUrlPreMeasureParams,isPlayingAllowed:this.props.isPlayingAllowed,isEditorMode:c(n),renderParts:n.renderParts,playbackFormat:n.playbackFormat,playbackConfig:n.playbackConfig,playbackUrl:n.playbackUrl,playerStyle:this.props.style,getIsVisible:this.props.mediaAspect.shouldPlay.bind(this.props.mediaAspect,this.props.id),addVisibilityStateListener:this.addVisibilityStateListener,addWebGLContext:this.props.mediaAspect.webglContexts.add,removeWebGLContext:this.props.mediaAspect.webglContexts.remove,mask:n.mask,maskPosterFallback:n.maskPosterFallback,isMediaPlayer:!0,bgData:g};if(this.props.shouldRenderSrc){var f=a.convertStyleToDimensions(t.pick(n.style,["width","height"]));y.mediaDimensions=f,y.imageUrlPreMeasureParams=a.getImageUrlPreMeasureParams(f,"WixVideo"===(h=m).mediaType?h.posterImageRef:h,g.fittingType,g.alignType,n.isMobileView,n.isInSeo)}return this.createChildComponent(n.compData,"wysiwyg.viewer.components.background.Balata",u,y)}}}.apply(t,n))||(e.exports=s)},431:function(e,t,i){var n,s;n=[i(0),i(2)],void 0===(s=function(e,t){"use strict";return{checkRequirements:function(i,n){var s=e.get(n,["properties","overrideCrop","svgId"],e.get(n,["data","crop","svgId"]));return s?e.compact([t.svg.createSvgFetchRequest(i.serviceTopology.mediaRootUrl,i,s)]):[]}}}.apply(t,n))||(e.exports=s)},432:function(e,t,i){var n,s;n=[i(0),i(2)],void 0===(s=function(e,t){"use strict";function i(i,n,s,a){var o=e.get(i,"styleItem.id")||e.get(i,"structure.styleId");o&&(a[o]={skinName:t.santaTypes.shortenStyleId(i.structure.skin),componentType:i.structure.componentType});var r=e.get(i.structure,["modes","overrides"]);e.forEach(r,(function(e){var s=e.styleId;s&&n(s)&&(a[s]={skinName:t.santaTypes.shortenStyleId(i.structure.skin),componentType:i.structure.componentType})}))}t.styleCollector.registerClassBasedStyleCollector("wysiwyg.viewer.components.svgshape.SvgShape",i),t.styleCollector.registerClassBasedStyleCollector("wysiwyg.viewer.components.PopupCloseIconButton",i)}.apply(t,n))||(e.exports=s)},433:function(e,t,i){var n,s;n=[i(2),i(434)],void 0===(s=function(e,t){"use strict";e.behaviorHandlersFactory.registerHandler("comp",t)}.apply(t,n))||(e.exports=s)},434:function(e,t,i){var n,s;n=[i(0),i(2)],void 0===(s=function(e,t){"use strict";var i=e.keyBy([t.siteConstants.ACTION_TYPES.SYNC_VALIDATION_DATA,t.siteConstants.ACTION_TYPES.SET_CUSTOM_VALIDITY,t.siteConstants.ACTION_TYPES.UPDATE_VALIDITY_INDICATION,t.mediaConsts.ACTION_TYPES.MUTE,t.mediaConsts.ACTION_TYPES.UN_MUTE]);return{handle:function(t,n,s){var a=n.getSiteAspect("behaviorsAspect");e.forEach(t,(function(e){a.registerBehavior(e,s.callback)})),e.some(t,(function(t){return!e.has(i,t.name)}))&&n.forceUpdate()}}}.apply(t,n))||(e.exports=s)},435:function(e,t,i){var n,s;n=[i(2),i(436)],void 0===(s=function(e,t){"use strict";e.behaviorHandlersFactory.registerHandler("scrub",t)}.apply(t,n))||(e.exports=s)},436:function(e,t,i){var n,s;n=[i(0),i(2),i(437)],void 0===(s=function(e,t,i){"use strict";var n=t.behaviorsService.behaviorUniqueIdentifier,s={AnimateAfterScroll:i.animateAfterScroll,ScrubAnimation:i.scrubSequenceWithScroll},a=function(e){return o.behaviorToSequenceId[n(e)]};var o={behaviorToSequenceId:{},isEnabled:e.constant(!0),handle:function(t,r,p){var l=r.getSiteData();e.forEach(t,(function(t){var c=r._site.getPageById(t.pageId),d=a(t),u=c.getSequence(d),h=i.getComponentMeasure(l,t.targetId);u?(s[t.name]||e.noop)(u,p,{compMeasures:h,behavior:t}):(d=i.createSequence(t,c,h),o.behaviorToSequenceId[n(t)]=d)}))},cancel:function(e,t){t._site.getPageById(e.pageId).stopSequence(a(e),0),delete o.behaviorToSequenceId[n(e)]}};return o}.apply(t,n))||(e.exports=s)},437:function(e,t,i){var n,s;n=[i(0)],void 0===(s=function(e){"use strict";var t={HeaderFadeOut:200,HeaderHideToTop:400},i={HeaderFadeOut:.5,HeaderHideToTop:.25},n=function(t){return function(t){return!e.isNaN(t)&&t>=0}(t)?t:0};function s(e,t,i,s){var a,o=n(e.position.y),r=n(t.position.y),p=Math.abs(r-o)/s,l="DOWN"===e.direction?1:-1;return a=i+l*p*.5,Math.max(Math.min(a,1),0)}return{getComponentMeasure:function(e,t){return{height:e.measureMap.height[t],width:e.measureMap.width[t],top:e.measureMap.top[t],left:e.measureMap.left[t]}},animateAfterScroll:function(i,n,s){var a=s.behavior,o=e.head(a.params.animations).name,r="DOWN"===n.scroll.current.direction,p=n.scroll.accumulatedScroll,l=i.progress(),c=!r&&p>100&&l>0;r&&p>t[o]&&l<1?i.play():c&&i.reverse()},scrubSequenceWithScroll:function(t,i,n){var a=n.compMeasures,o=t.progress(),r=s(i.scroll.current,i.scroll.previous,o,a.height);e.isFinite(r)&&r!==o&&t.progress(r)},createSequence:function(t,n,s){var a=t.targetId,o=e.get(t,["params","animations"],[]),r=n.sequence();return e.forEach(o,(function(n){var o=e.defaultsDeep(n,function(e,t,n){return{targetId:e,duration:i[n]||0,delay:0,params:{compMeasures:t}}}(t.targetId,s,n.name)),p=o.name,l=o.duration,c=o.delay,d=o.params;r.add(a,p,l,c,d)})),r.execute({suppressReactRendering:!1,forgetSequenceOnComplete:!1,paused:!0})}}}.apply(t,n))||(e.exports=s)},438:function(e,t,i){var n,s;n=[i(2),i(439)],void 0===(s=function(e,t){"use strict";e.behaviorHandlersFactory.registerHandler("animation",t)}.apply(t,n))||(e.exports=s)},439:function(e,t,i){var n,s;n=[i(0),i(2)],void 0===(s=function(e,t){"use strict";function i(t,i){var n=i.getSiteData();return!n.isMobileView()?"MOBILE"!==t.viewMode:!!function(t){var i=t.getDataByQuery("masterPage");return e.has(i,["mobileSettings","animationsEnabled"])}(n)&&function(e){return e&&(!e.viewMode||"MOBILE"===e.viewMode)}(t)}return{handle:function(n,s,a){var o=s.getSiteData(),r=s.getRuntimeDal(),p=a.group||a.action,l=e.get(a,"clear",!0),c=e(n).filter((function(e){var n=(r.getCompProps(e.targetId)||{}).isCollapsed,a=i(e,s),o=t.animationsService.isAnimationPlayable(s,e);return!n&&a&&o})).map((function(t){return e.omit(e.defaultsDeep({},t,e.find(o.animations.viewerDefaults,{name:t.name})),"action")})).value();e.isEmpty(c)?e.defer((function(){e.get(a,"callback",e.noop)()})):t.animationsService.playAnimations(s,p,c,l,a.callback||e.noop)},handlePreCondition:function(e,i){t.animationsService.hideElementsByAnimationType(i,[e])},cancelPreCondition:function(e,i){t.animationsService.revertHideElementsByAnimations(i,[e])},isEnabled:i}}.apply(t,n))||(e.exports=s)},440:function(e,t,i){var n,s;n=[i(0),i(1),i(25),i(3)],void 0===(s=function(e,t,i,n){"use strict";function s(){var t=this.getFontSize("fnt");if(this.props.isMobileView){var i=e.max([13,Number(t.fontSize.replace("px",""))]);t.fontSize="".concat(i,"px")}return t}var a=i.labelUtils,o={displayName:"TextInput",mixins:[i.baseTextInput,i.textScaleMixin,t.mixins.inputFocusMixin],propTypes:{compProp:t.santaTypesDefinitions.Component.compProp.isRequired,isResponsive:t.santaTypesDefinitions.RendererModel.isResponsive,isMobileView:t.santaTypesDefinitions.isMobileView,componentViewMode:t.santaTypesDefinitions.RenderFlags.componentViewMode.isRequired},statics:{behaviors:e.assign({},i.baseTextInput.BASE_TEXT_BEHAVIORS,t.mixins.inputFocusMixin.INPUT_FOCUS_BEHAVIORS)},focus:function(){this.refs.input.focus()},blur:function(){this.refs.input.blur()},measureComponent:function(e){var t=this.refs.label,i=a.measureComponentWithLabel(this.props.compProp,t,this.props.compData,this.props.isMobileView);if(i)return[{node:e,type:"css",changes:{height:i}}]},getName:function(){var e=this.props,t=e.compData,i=e.compProp,n=function(e){return e.toLowerCase().replace(" ","-")},s=t.label;if(s)return n(s);var a=t.placeholder||i.placeholder;return a?n(a):void 0},getDirection:function(e,t){return t?"ltr":e},getSkinProperties:function(){var t="editor"===this.props.componentViewMode,i=this.props,n=i.compProp,o=i.isMobileView,r=i.isResponsive,p=i.compData,l=i.compTheme,c=n.textAlignment,d=n.textPadding,u=n.isDisabled,h=!!p.prefix,m=!!p.phoneFormat,g={"with-validation-indication":this.shouldShowValidityIndication(),"show-prefix":h,required:a.showRequired(p,n,l,r),"has-phone-format":m};g["".concat(c,"-direction")]=!0;var y={compId:this.props.id,inputId:"input"},f=e.merge(this.getBaseTextInputSkinProperties(),a.getBaseInputWithLabelSkinProperties({compProp:n,rawFontSyle:this.getFontSize("fntlbl"),isMobileView:o,compData:p,id:y}));f[""]={className:this.classSet(g),"data-disabled":!!u,"data-preview":e.isFunction(this.getComponentPreviewState)&&this.getComponentPreviewState()};var v="padding".concat(e.capitalize(c));f.input=e.merge({style:s.call(this)},f.input,{"data-preview":e.isFunction(this.getComponentPreviewState)&&this.getComponentPreviewState(),className:"has-custom-focus"}),f.prefix={children:p.prefix},r&&e.assign(f.input,{size:"1"});var b=h&&"left"===c?50:0;f.input.style[v]="".concat(parseInt(d||0,10)+b,"px"),f.input.name=this.getName();var P;return f.input.readOnly=(P=f.input.readOnly,!!t||P),f}};return n.compRegistrar.register("wysiwyg.viewer.components.inputs.TextInput",o),o}.apply(t,n))||(e.exports=s)},441:function(e,t,i){var n,s;n=[i(0),i(4),i(6),i(2),i(10),i(3),i(5),i(1),i(49),i(59)],void 0===(s=function(e,t,i,n,s,a,o,r,p,l){"use strict";var c=p.utils.galleriesHelperFunctions,d=n.matrixScalingCalculations;function u(e,t,i){this.state.currentIndex!==e&&(this.props.onImageSelected&&(t.type="imageSelected",t.payload={itemIndex:e,imageData:this.props.compData.items[e]},this.props.onImageSelected(t,i)),this.setState({currentIndex:e}))}function h(e,t){return e.dimensions?e.dimensions[t]:parseFloat(e.style[t])}function m(t,i){var n=i.props.selectedItemIndex||0;return{currentIndex:e.get(t,["currentIndex"],n)}}var g={displayName:"SliderGallery",statics:{behaviors:{nextSlide:{methodName:"next"},prevSlide:{methodName:"prev"}}},mixins:[a.mixins.skinBasedComp,a.mixins.skinInfo,r.mixins.animationsMixin,s.timersMixins.timeoutsMixin,r.mixins.compStateMixin(m),a.mixins.createChildComponentMixin],propTypes:e.assign({isExperimentOpen:r.santaTypesDefinitions.isExperimentOpen,id:r.santaTypesDefinitions.Component.id.isRequired,rootId:r.santaTypesDefinitions.Component.rootId.isRequired,compData:r.santaTypesDefinitions.Component.compData.isRequired,compProp:r.santaTypesDefinitions.Component.compData.isRequired,skin:r.santaTypesDefinitions.Component.skin.isRequired,style:r.santaTypesDefinitions.Component.style.isRequired,dimensions:r.santaTypesDefinitions.Component.dimensions,isMobileView:r.santaTypesDefinitions.isMobileView,isMobileDevice:r.santaTypesDefinitions.Device.isMobileDevice,isTabletDevice:r.santaTypesDefinitions.Device.isTabletDevice,windowTouchEventsAspect:r.santaTypesDefinitions.SiteAspects.windowTouchEvents.isRequired,getSliderGalleryMeasures:r.santaTypesDefinitions.__DangerousSantaTypes.getSliderGalleryMeasures,onImageSelected:t.func},r.utils.santaTypesUtils.getSantaTypesByDefinition(l)),_currentOffset:null,_motion:!1,_firstChild:null,getInitialState:function(){return this.props.windowTouchEventsAspect.registerToWindowTouchEvent("touchStart",this),e.assign(m(null,{props:this.props.compProp}),{$mobile:this.props.isMobileDevice||this.props.isTabletDevice()?"mobile":"notMobile",$displayDevice:this.props.isMobileView?"mobileView":"desktopView"})},componentWillUnmount:function(){this.props.windowTouchEventsAspect.unregisterFromWindowTouchEvent("touchStart",this)},getSkinProperties:function(){this.gap=e.isNumber(this.props.compProp.margin)?this.props.compProp.margin:20,this.contentOverflow=!1;var t=o.skinsMap.get(this.props.skin),i=t.exports&&t.exports.bottomGap||0,n=Math.abs(this.getFromExports("itemContainerAdditionalHeight")),s=this.populate(i,n),a=Math.abs(this.getFromExports("itemContainerTotalOffset")),r=h(this.props,"width")-a;return this.itemsHolderWidth>r&&(this.contentOverflow=!0,s=this.populate(i,n)),{imageItem:{},images:{children:s,"data-gallery-id":this.props.id},swipeLeftHitArea:{onMouseEnter:this.prev,onMouseLeave:this._stopMovement,onTouchStart:this.prev,"data-gallery-id":this.props.id},swipeRightHitArea:{onMouseEnter:this.next,onMouseLeave:this._stopMovement,onTouchStart:this.next,"data-gallery-id":this.props.id},"":{onSwipeLeft:this.next,onSwipeRight:this.prev,"data-height-diff":c.getSkinHeightDiff(this.props.skin),"data-width-diff":c.getSkinWidthDiff(this.props.skin),"data-image-mode":this.props.compProp.imageMode,"data-aspect-ratio":this.props.compProp.aspectRatio,"data-bottom-gap":i,"data-additional-height":n}}},getChildrenData:function(){var e=this.props.compData.items;return this.props.compProp.loop&&this.contentOverflow?e.concat(e):e},populate:function(t,i){var n=this.props.compProp,s=this.props.compData;return this.itemsHolderWidth=0,this.getChildrenData().map((function(a,r){var p=a,l=this.getSkinExports().imageItem.skin,m=this.getParams(["topPadding","imgHeightDiff"],l),g=o.skinsMap.get(l),y=c.getDisplayerHeightDiff(g,m,this.state.$displayDevice),f=c.getDisplayerWidthDiff(g,this.state.$displayDevice),v=Math.floor(h(this.props,"height")+i),b=this.props.compData.items.length,P=d.getSizeAfterScaling({itemHeight:v,itemWidth:Math.floor(v*(this.props.compProp.aspectRatio||1)),displayerData:p,imageMode:this.props.compProp.imageMode,heightDiff:y,widthDiff:f,bottomGap:t});return this.itemsHolderWidth=this.itemsHolderWidth+P.imageWrapperSize.imageWrapperWidth+this.gap,this.createChildComponent(p,"wysiwyg.viewer.components.Displayer","imageItem",{currentUrlPageId:this.props.currentUrlPageId,galleryDataId:s.id,imageWrapperSize:P.imageWrapperSize,style:{display:"inline-block",margin:"0 ".concat(e.isNumber(n.margin)?n.margin:20,"px 0 0"),height:P.displayerSize.height,width:P.displayerSize.width},isSelected:this.state.currentIndex===r,onClick:u.bind(this,r),displayerDataQuery:a,galleryId:this.props.id,heightDiff:y,widthDiff:f,bottomGap:t,imageIndex:r%b,key:"".concat(this.props.id+p.id,"_").concat(r),ref:"displayer".concat(r),id:"".concat(this.props.id,"displayer").concat(r)})}),this)},prev:function(){this._move(!0)},next:function(){this._move(!1)},_move:function(e){var t=this.props.compProp.maxSpeed||.05;this.slide(e,t,this.props.compProp.loop)},_stopMovement:function(){this._sequenceId&&(this.easeStopSequence(this._sequenceId,1),this._sequenceId=null)},slide:function(e,t,s){if(this.contentOverflow){var a=this.props.getSliderGalleryMeasures(this.props.id),o=a.imagesWidth-(this.props.compProp.margin||0),r=a.itemsContainerWidth,p=i.findDOMNode(this.refs.images).offsetLeft,l=s?-o/2:r-o;this._stopMovement();var c=this.sequence(),d=Math.abs(l)/(60*t),u=d*(e?Math.abs(p/l):1-Math.abs(p/l));c.add("images","BasePosition",u,0,{from:{left:p},to:{left:e?0:l},ease:"Linear.easeNone"}),s&&c.add("images","BasePosition",d,0,{from:{left:e?l:0},to:{left:e?0:l},repeat:s?-1:0,immediateRender:!1,ease:"Linear.easeNone"}),c.onCompleteAll(function(){var e=this.props.compData.items[this.state.currentIndex];this.handleAction(n.siteConstants.ACTION_TYPES.IMAGE_CHANGED,{item:e,imageIndex:this.state.currentIndex})}.bind(this)),this._sequenceId=c.execute({paused:!0}),this.easeStartSequence(this._sequenceId,1),"mobile"===this.state.$mobile&&(this.clearTimeoutNamed(this.props.id),this._nextStopTimeout=this.setTimeoutNamed(this.props.id,function(){this._stopMovement()}.bind(this),2e3))}},onWindowTouchStart:function(e){(e.target.getAttribute("data-gallery-id")||e.target.parentNode.getAttribute("data-gallery-id"))!==this.props.id&&this._stopMovement()}};return a.compRegistrar.register("wysiwyg.viewer.components.SliderGallery",g),g}.apply(t,n))||(e.exports=s)},442:function(e,t,i){var n,s;n=[i(0),i(4),i(10),i(2),i(21),i(49),i(1),i(3)],void 0===(s=function(e,t,i,n,s,a,o,r){"use strict";var p={numCols:3,maxRows:3,margin:0,transition:"seq_crossFade_All",transDuration:1,autoplayInterval:3,autoplay:!1,showAutoplay:!0,showNavigation:!0,showCounter:!0},l=n.linkRenderer,c=n.matrixCalculations,d=a.utils.galleriesHelperFunctions,u=r.utils.galleryPagingCalculations,h=r.utils.matrixAnimationManipulation;function m(t,i){var s=e.defaults({href:i.href||"#",style:e.assign({height:"100%",display:"block",width:"100%",position:"absolute",top:"0px",left:"0px",backgroundColor:"#ffffff",filter:"alpha(opacity=0)",opacity:"0",cursor:i.cursor},n.style.prefix({userSelect:"none",userDrag:"none",userModify:"read-only"}))},i);return i.href||(s.onClick=function(i){var s,a;this.props.handleAction({type:"comp",name:n.siteConstants.ACTION_TYPES.ITEM_CLICKED,sourceId:this.props.id,pageId:this.props.rootId},(s=t,a=e.get(this.state,"currentIndex"),{item:s,timeStamp:n.loggingUtils.performance.now(),imageIndex:a,name:n.siteConstants.ACTION_TYPES.ITEM_CLICKED})),i.preventDefault(),i.stopPropagation()}.bind(this)),o.utils.createReactElement("a",s)}function g(e){return e?e.description:""}function y(t){return{currentIndex:e.get(t,"currentIndex",0),isPlaying:"autoplayOn"===e.get(t,"$slideshow","autoplayOff")}}var f={displayName:"PaginatedGridGallery",mixins:[r.mixins.skinBasedComp,a.mixins.galleryAutoPlayMixin,o.mixins.animationsMixin,i.timersMixins.timeoutsMixin,o.mixins.compStateMixin(y),r.mixins.createChildComponentMixin],propTypes:e.assign({compProp:o.santaTypesDefinitions.Component.compProp.isRequired,compData:o.santaTypesDefinitions.Component.compData.isRequired,id:o.santaTypesDefinitions.Component.id.isRequired,skin:o.santaTypesDefinitions.Component.skin.isRequired,style:o.santaTypesDefinitions.Component.style.isRequired,linkRenderInfo:o.santaTypesDefinitions.Link.renderInfo.isRequired,rootNavigationInfo:o.santaTypesDefinitions.Component.rootNavigationInfo.isRequired,dimensions:o.santaTypesDefinitions.Component.dimensions,isZoomOpened:o.santaTypesDefinitions.isZoomOpened.isRequired,windowTouchEventsAspect:o.santaTypesDefinitions.SiteAspects.windowTouchEvents.isRequired,isMobileView:o.santaTypesDefinitions.isMobileView,isMobileDevice:o.santaTypesDefinitions.Device.isMobileDevice,isMeshLayoutMechanism:o.santaTypesDefinitions.Layout.isMeshLayoutMechanism.isRequired,isTabletDevice:o.santaTypesDefinitions.Device.isTabletDevice,isPlayingAllowed:o.santaTypesDefinitions.RenderFlags.isPlayingAllowed,getPaginatedGridGalleryMeasures:o.santaTypesDefinitions.__DangerousSantaTypes.getPaginatedGridGalleryMeasures,onAnimationCompleteCallback:t.func,createGalleryItem:t.func,getItemRef:t.func,registerReLayout:t.func,compActions:o.santaTypesDefinitions.Component.compActions.isRequired},o.utils.santaTypesUtils.getSantaTypesFromPropTypes(o.components.Image.propTypes)),statics:{behaviors:{nextSlide:{methodName:"next"},prevSlide:{methodName:"prev"}}},getInitialState:function(){return this.props.windowTouchEventsAspect.registerToWindowTouchEvent("touchStart",this),this.isAnimating=!1,this.prevCompProps=e.cloneDeep(this.props.compProp),e.assign(y(),{hoveredImage:null,$itemSelection:"idle",$mobile:this.props.isMobileDevice||this.props.isTabletDevice()?"mobile":"notMobile",$displayDevice:this.props.isMobileView?"mobileView":"desktopView",$animationInProcess:null,$touchRollOverSupport:"touchRollOut"})},componentWillReceiveProps:function(t){var i=!1,n={$mobile:t.isMobileDevice||t.isTabletDevice()?"mobile":"notMobile",$displayDevice:t.isMobileView?"mobileView":"desktopView"};if(this.prevCompProps.autoplay!==t.compProp.autoplay){var s=t.compProp.autoplay&&!this.props.isZoomOpened&&this.props.isPlayingAllowed?"autoplayOn":"autoplayOff";i=!0,n.shouldAutoPlay=t.compProp.autoplay,n.$slideshow=s}this.prevCompProps=e.cloneDeep(t.compProp),this.setState(n,function(){i&&(this.updateAutoplayState(),this.handleAction(n.$slideshow))}.bind(this))},componentDidMount:function(){this.updateAutoplayState()},componentWillUnmount:function(){this.props.windowTouchEventsAspect.unregisterFromWindowTouchEvent("touchStart",this)},getButtonVisibility:function(e,t){return!1===this.props.compProp.showNavigation||this.state.currentIndex===e&&this.state.currentIndex===t||this.props.compProp.isHidden?"hidden":"visible"},getSkinProperties:function(){var t,i,n,s=e.defaults(this.props.compProp,p),a=this.props.compData,o=u.getPageItems(a.items,this.state.currentIndex,s.numCols,s.maxRows),r=this.state.hoveredImage?this.state.hoveredImage.props.compData:null,c=this.state.hoveredImage?function(t,i,n,s,a,o,r,p,l){var c,d,u,h,m={},g="Go to link",y="pointer",f=(c=i.expandEnabled,d=i.galleryImageOnClickAction,(u=d)||(u=!0===c?"zoomMode":"disabled"),u);return t.link&&(h=s(o,p,n)),i.goToLinkText&&(g=i.goToLinkText),"zoomMode"===f?m=a(p,n,t,r,void 0,l):h&&"goToLink"===f?m=h:y="default",e.assign(m,{linkData:h,goToLinkText:g,cursor:y,clickAction:f}),m}(r,s,this.props.rootNavigationInfo,l.renderLink,l.renderImageZoomLink,r.link,a.id,this.props.linkRenderInfo,this.props.id):{},h=u.getNextPageItemIndex(this.state.currentIndex,s.numCols,s.maxRows,a.items.length),y=u.getPrevPageItemIndex(this.state.currentIndex,s.numCols,s.maxRows,a.items.length),f=u.getPageItems(a.items,h,s.numCols,s.maxRows),v=u.getPageItems(a.items,y,s.numCols,s.maxRows),b=this.getButtonVisibility(h,y),P=!this.props.compProp.isHidden&&this.props.compProp.showCounter&&o.length>0?"visible":"hidden",S=this.classSet({"show-counter":"hidden"!==b||"hidden"!==P});return{"":{"data-height-diff":d.getSkinHeightDiff(this.props.skin),"data-width-diff":d.getSkinWidthDiff(this.props.skin),"data-num-cols":this.props.compProp.numCols,"data-max-rows":this.props.compProp.maxRows,"data-margin":this.props.compProp.margin,"data-is-mesh":this.props.isMeshLayoutMechanism,onMouseLeave:function(e,t){this.onRollOut(e,t,!0)}.bind(this),style:{overflow:"hidden"}},itemsContainer:{children:this.createDisplayedItems(o,f,v,h,y),"data-gallery-id":this.props.id,className:S,style:{position:"relative",overflow:"hidden",width:this.props.style.width-d.getSkinWidthDiff(this.props.skin),height:this.props.style.height-d.getSkinHeightDiff(this.props.skin)}},buttonPrev:{onClick:function(e){e&&e.stopPropagation(),this.prev()}.bind(this),"data-gallery-id":this.props.id,style:{visibility:b}},buttonNext:{onClick:function(e){e&&e.stopPropagation(),this.next()}.bind(this),"data-gallery-id":this.props.id,style:{visibility:b}},counter:{children:u.getCounterText(this.state.currentIndex,s.numCols,s.maxRows,a.items.length),style:{visibility:P},"data-gallery-id":this.props.id},autoplay:{onClick:this.toggleAutoPlay,"data-gallery-id":this.props.id,style:{cursor:"pointer",visibility:this.shouldShowAutoPlay()?"visible":"hidden"}},rolloverHolder:{style:this.state.hoveredImage?(i=this.state.hoveredImage,n=this.props.skin,{visibility:"visible",position:"absolute",cursor:"pointer",padding:0,left:parseInt(i.props.style.left,10)+d.getSkinWidthDiff(n)/2,top:parseInt(i.props.style.top,10),width:parseInt(i.props.containerWidth,10),height:parseInt(i.props.containerHeight,10)}):{visibility:"hidden",cursor:"pointer"},"data-gallery-id":this.props.id,"data-hovered-image-id":r?r.id:"",addChildBefore:[m.call(this,r,c),"link"]},title:{children:this.state.hoveredImage?(t=r,t?t.title:""):"","data-gallery-id":this.props.id},description:{children:this.state.hoveredImage?g(r):"","data-gallery-id":this.props.id},link:c.linkData&&e.merge(c.linkData,{children:c.goToLinkText,"data-gallery-id":this.props.id,refInParent:"link",style:{display:"goToLink"!==c.clickAction&&c.linkData?"block":"none"}}),textWrapper:{"data-gallery-id":this.props.id}}},onMouseEnter:function(e){var t=this.refs[e];this.state.hoveredImage!==t&&(this.props.isMeshLayoutMechanism&&this.registerReLayout(),this.setState({hoveredImage:t,$itemSelection:"rollover"}))},onRollOut:function(e,t,i){("IMG"!==e.target.tagName||i)&&this.setState({hoveredImage:null,$itemSelection:"idle"})},onComponentTouchStart:function(e){this.onMouseEnter(e),"touchRollOut"===this.state.$touchRollOverSupport&&this.setState({$touchRollOverSupport:"touchRollOver"})},onWindowTouchStart:function(e){var t=e.target.getAttribute("data-gallery-id")||e.target.parentNode.getAttribute("data-gallery-id");"touchRollOver"===this.state.$touchRollOverSupport&&t!==this.props.id&&(this.onRollOut({target:""},null,!0),this.setState({$touchRollOverSupport:"touchRollOut"}))},next:function(e){this.movePage(!1,e)},prev:function(e){this.movePage(!0,e)},movePage:function(t,i){var n=this.props.compProp,s=this.props.compData,a=t?u.getPrevPageItemIndex(this.state.currentIndex,n.numCols,n.maxRows,s.items.length):u.getNextPageItemIndex(this.state.currentIndex,n.numCols,n.maxRows,s.items.length);if(this.isAnimating||a===this.state.currentIndex)return this._movePageQueue||(this._movePageQueue=[]),void this._movePageQueue.push(t);var o,r,p=u.getPageItems(s.items,a,n.numCols,n.maxRows),l=u.getPageItems(s.items,this.state.currentIndex,n.numCols,n.maxRows);this.props.createGalleryItem?(o=this.convertDataItemsToRefs(l,this.state.currentIndex),r=this.convertDataItemsToRefs(p,a)):(o=e.map(l,"id"),r=e.map(p,"id")),p&&(this.props.registerReLayout?this.props.registerReLayout():this.registerReLayout(),this.setState({$animationInProcess:"animationInProcess",$itemSelection:"idle"},(function(){this.performAnimation(o,r,t,a,i)})))},performAnimation:function(t,i,n,s,a){var o=this.props.compProp,r=c.getAvailableRowsNumber(o.maxRows,o.numCols,this.props.compData.items.length),p=h.getSortedArrayAndStagger(o.transition,t,i,r,o.numCols,this.timingFunctionIndex||0),l=p.transName,u=this.props.getPaginatedGridGalleryMeasures(this.props.id),m=function(e,t,i,n,s,a){var o=c.getItemWidth(e.margin,e.numCols,t,d.getSkinWidthDiff(s)),r=c.getItemHeight(e.margin,i,n,d.getSkinHeightDiff(s)),p=t-d.getSkinWidthDiff(s)+e.margin,l=i-d.getSkinHeightDiff(s)+e.margin;return{width:"Shrink"===a?o:p,height:"Shrink"===a?r:l}}(o,u.width||this.props.style.width,u.height||this.props.style.height,r,this.props.skin,l);this.timingFunctionIndex=p.timingFunctionIndex+1;var g,y,f,v="none"===o.transition?0:o.transDuration,b=p.stagger,P=this.sequence(),S=p.sporadicallyRandom&&p.sourceNodesArrSorted.length>1;p.sourceNodesArrSorted.length!==p.destNodesArrSorted.length&&(g=p.sourceNodesArrSorted,y=p.destNodesArrSorted,f=Math.max(g.length,y.length),e.times(f,(function(e){g[e]||(g[e]="emptyDivToFillMatrix"),y[e]||(y[e]="emptyDivToFillMatrix")}))),e.forEach(p.sourceNodesArrSorted,(function(e,t){var i=p.destNodesArrSorted[t],s={width:m.width,height:m.height,reverse:S?Math.random()>.5:!!n},a=b;"Shrink"!==l&&"CrossFade"!==l||(s.stagger=b,a=0),P.add({sourceRefs:e,destRefs:i},l,v,0,s,t*a)})),P.onStartAll(function(){this.isAnimating=!0}.bind(this)).onCompleteAll(function(){this.animationCompleteCallback(s,a)}.bind(this)).execute()},animationCompleteCallback:function(t,i){this.isAnimating=!1,this.props.onAnimationCompleteCallback&&this.props.onAnimationCompleteCallback(),this.setState({currentIndex:t,$animationInProcess:null},function(){this.updateAutoplayState(),e.isFunction(i)&&i()}.bind(this)),this._movePageQueue&&this._movePageQueue.length>0&&setTimeout(function(){this.movePage(this._movePageQueue.shift())}.bind(this),100)},createDisplayedItems:function(t,i,n,s,a){var o=this.props.compProp,r=this.props.compData,p=parseFloat(this.props.style.width),l=c.getItemWidth(o.margin,o.numCols,p,d.getSkinWidthDiff(this.props.skin)),u=c.getAvailableRowsNumber(o.maxRows,o.numCols,r.items.length),h=c.getItemHeight(o.margin,this.props.style.height,u,d.getSkinHeightDiff(this.props.skin)),m=[],g=[],y=e.map(t,function(e,i){return this.createGalleryItem(e,i,l,h,this.state.currentIndex,t.length,"curr")}.bind(this));return s!==this.state.currentIndex&&(m=e.map(i,function(e,t){return this.createGalleryItem(e,t,l,h,s,i.length,"next",{visibility:"hidden"})}.bind(this))),a!==s&&a!==this.state.currentIndex&&(g=e.map(n,function(e,t){return this.createGalleryItem(e,t,l,h,a,n.length,"prev",{visibility:"hidden"})}.bind(this))),m.concat(g).concat(y)},createGalleryItem:function(e,t,i,n,s,a,o,r){return this.props.createGalleryItem?this.props.createGalleryItem(this.props.id,e,t,s,a,r,this.classSet):this.createImageItem(e,t,i,n,s,o,r)},convertDataItemsToRefs:function(e,t){for(var i=[],n=0;n<e.length;n++){var s=this.props.getItemRef?this.props.getItemRef(this.props.id,t,n):this.getImageItemRef(t,n);i.push(s)}return i},getImageItemRef:function(e,t){return this.props.id+e+t},createImageItem:function(t,i,n,a,o,r,p){var l=c.getItemPosition(i,n,a,this.props.compProp.margin,this.props.compProp.numCols),d=c.getImageStyle(a,n,t.height,t.width);return this.createChildComponent(t,"core.components.Image","img",{id:this.props.id+t.id,ref:t.id,key:t.id,imageData:t,containerWidth:Math.round(n),containerHeight:Math.round(a),displayMode:s.fittingTypes.SCALE_TO_FILL,imgStyle:d,"data-gallery-id":this.props.id,"data-page-desc":r,"data-query":t.id,"data-image-index":o+i,onMouseEnter:this.onMouseEnter.bind(this,t.id),onTouchStart:this.onComponentTouchStart.bind(this,t.id),style:e.merge({left:l.left,top:l.top,position:"absolute",overflow:"hidden",transform:"none",clip:"auto"},p)})}};return r.compRegistrar.register("wysiwyg.viewer.components.PaginatedGridGallery",f),f}.apply(t,n))||(e.exports=s)},443:function(e,t,i){var n,s;function a(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==i)return;var n,s,a=[],o=!0,r=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){r=!0,s=e}finally{try{o||null==i.return||i.return()}finally{if(r)throw s}}return a}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){if(e){if("string"==typeof e)return p(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}n=[i(0),i(120),i(1),i(3)],void 0===(s=function(e,t,i,n){"use strict";var s=i.santaTypesDefinitions,r=t.mediaLogicMixins.fill,p=n.mixins.createChildComponentMixin,c=i.mixins,d=c.scrollMixin,u=c.inlineContentMixin,h=i.utils,m=h.lightboxLayerHelper,g=h.pinnedLayerHelper,y=function(e){var t,i={left:"left",right:"right",center:"hCenter"},n={top:"top",bottom:"bottom",center:"vCenter"};return"nineGrid"===e.alignmentType?(l(t={},i[e.horizontalAlignment],{px:e.horizontalOffset}),l(t,n[e.verticalAlignment],{px:e.verticalOffset}),t):"fullHeight"===e.alignmentType?l({top:{px:0},bottom:{px:0}},i[e.horizontalAlignment],{px:0}):"fullWidth"===e.alignmentType?l({left:{px:0},right:{px:0}},n[e.verticalAlignment],{px:0}):void 0},f=function(t,i){return[e.defaults({docked:y(i)},t.components[0])]},v={displayName:"WixPage",mixins:[r,n.mixins.skinBasedComp,d,p,u],propTypes:{id:i.santaTypesDefinitions.Component.id,compProp:i.santaTypesDefinitions.Component.compProp.isRequired,compDesign:i.santaTypesDefinitions.Media.Popup.data,compStaticBehaviors:i.santaTypesDefinitions.Component.compStaticBehaviors,defaultBackgroundStyle:i.santaTypesDefinitions.Container.defaultBackgroundStyle.isRequired,isExperimentOpen:i.santaTypesDefinitions.isExperimentOpen,isMobileView:i.santaTypesDefinitions.isMobileView.isRequired,isMobileDevice:i.santaTypesDefinitions.Device.isMobileDevice.isRequired,isMeshLayoutMechanism:i.santaTypesDefinitions.Layout.isMeshLayoutMechanism.isRequired,meshParams:i.santaTypesDefinitions.Component.meshParams,layoutContainerClassName:i.santaTypesDefinitions.Layout.layoutContainerClassName,closePopupPage:i.santaTypesDefinitions.popupPage.close,siteWidth:i.santaTypesDefinitions.siteWidth.isRequired,siteScrollingBlocker:i.santaTypesDefinitions.SiteAspects.siteScrollingBlocker.isRequired,markVisitedPage:i.santaTypesDefinitions.Page.markVisitedPage,renderParts:i.santaTypesDefinitions.Media.Popup.renderParts,pageStub:s.Component.pageStub,pageMinHeightDefault:i.santaTypesDefinitions.pageMinHeightDefault.isRequired,playbackUrl:i.santaTypesDefinitions.Media.Popup.playbackUrl,playbackFormat:i.santaTypesDefinitions.Media.Popup.playbackFormat,playbackConfig:i.santaTypesDefinitions.Media.Popup.playbackConfig,defaultContentArea:i.santaTypesDefinitions.Container.defaultContentArea.isRequired,fixedChildrenIDs:s.Component.fixedChildrenIDs,pinnedChildrenIDs:s.Component.pinnedChildrenIDs,isPopupPage:s.Page.isPopupPage,popupAlignment:s.Page.popupAlignment,wixTopAdsHeight:s.WixAds.wixTopAdsHeight,isResponsive:s.RendererModel.isResponsive,pageComponentTypes:s.Page.pageComponentTypes,browser:i.santaTypesDefinitions.Browser.browser.isRequired},statics:{behaviors:t.mediaBehaviors.fill},componentDidMount:function(){this.props.isPopupPage&&this.props.isMobileView&&this.props.isMobileDevice&&this.props.siteScrollingBlocker.setSiteScrollingBlocked(this,!0),this.props.markVisitedPage&&this.props.markVisitedPage(this.props.id)},componentWillUnmount:function(){this.props.isPopupPage&&this.props.isMobileView&&this.props.isMobileDevice&&this.props.siteScrollingBlocker.setSiteScrollingBlocked(this,!1)},shouldCloseOverlay:function(t){return e.get(this.props,["compProp",t,"popup","closeOnOverlayClick"])},getBalataProps:function(i){return{id:this.props.id,onClick:i,bgStyle:(n=this.props.isMobileView,s=this.props.siteWidth,a=t.popupMediaStyle,n?e.defaults({width:"".concat(s,"px"),left:"",right:""},a):e.defaults({height:"auto"},a)),playbackFormat:this.props.playbackFormat,playbackConfig:this.props.playbackConfig,playbackUrl:this.props.playbackUrl};var n,s,a},getRootStyle:function(){return this.props.isPopupPage?{top:0,left:0,position:"relative"}:{position:"absolute"}},getSkinProperties:function(){return this.props.isPopupPage?this.getPopupPageSkinProperties():this.getPageSkinProperties()},isMobile:function(){return!(!this.props.isMobileView&&!this.props.isMobileDevice)},getPageMinHeight:function(){return e.get(this.props.compProp,[[this.isMobile()?"mobile":"desktop"],"minHeight"],0)||this.props.pageMinHeightDefault},getMeshOverridesParams:function(){return{minHeight:this.getPageMinHeight(),fitToContentHeight:!0,fitToContentPadding:e.get(this.getSkinExports(),"paddingBottom",0),width:this.props.siteWidth}},renderChildrenForMesh:function(){var t=this.props,i=t.id,n=t.browser,s=t.pinnedChildrenIDs,r=t.wixTopAdsHeight,p=t.isExperimentOpen,l=o(e.partition(this.props.children,(function(e){return!!s[e.props.id]})),2),c=l[0],d=l[1],u=this.getChildrenRenderer({overrides:this.getMeshOverridesParams(),contentArea:this.props.defaultContentArea,children:d});if(!p("bv_pinnedRoot")){var h=e.filter(this.props.meshParams.components,(function(t){return!0===e.get(t,"isFixed",!1)&&e.has(t,"docked")}));return[g.createPinnedLayer({id:"".concat(i,"-pinned-layer"),children:c,childrenMeshParams:h,browser:n,wixTopAdsHeight:r})].concat(a(u))}return u},renderChildrenForMeshPopup:function(){var e=this.props,t=e.id,i=e.browser,n=e.meshParams,s=e.popupAlignment;return[m.createLightboxLayer({id:t,children:this.props.children,childrenMeshParams:f(n,s),browser:i,isFixedLayer:!1})]},getResponsiveChildrenRenderer:function(){var e=this,t=this.props,i=t.fixedChildrenIDs,n=t.children,s=t.wixTopAdsHeight,a=t.browser,o=[];return n.forEach((function(t){o.push(i.includes(t.props.id)?g.createPinnedLayer({id:"".concat(t.props.id,"-pinned-layer"),children:[t],childrenMeshParams:{},browser:a,wixTopAdsHeight:s}):e.getChildrenRenderer({overrides:e.getMeshOverridesParams(),contentArea:e.props.defaultContentArea,children:[t]}))})),o},getPageInlineContentChildren:function(){var e=this.props,t=e.isMeshLayoutMechanism,i=e.isPopupPage;return e.isResponsive?this.getResponsiveChildrenRenderer():t?i?this.renderChildrenForMeshPopup():this.renderChildrenForMesh():this.getChildrenRenderer({overrides:this.getMeshOverridesParams(),contentArea:this.props.defaultContentArea})},getPageSkinProperties:function(t){var i=this.props,n=i.isMeshLayoutMechanism,s=i.isResponsive,a=n?"auto":this.props.structure.layout.height,o=e.assign({height:a,left:0},n?{height:"100%",position:"relative"}:{minWidth:this.props.siteWidth,minHeight:this.getPageMinHeight()});return{"":{"data-ismobile":this.isMobile(),"data-is-mesh-layout":n,style:s?{}:o},bg:{style:this.props.defaultBackgroundStyle},inlineContent:e.assign(t,{className:this.props.layoutContainerClassName,children:this.getPageInlineContentChildren()})}},getPopupPageSkinProperties:function(){var t=this.props,i=t.isMeshLayoutMechanism,n=t.isResponsive,s=e.assign({pointerEvents:"none",minHeight:"100vh",minWidth:this.props.siteWidth},this.getRootStyle(),i&&{position:"relative",height:"auto",display:"grid"}),a=e.omit(this.getPageSkinProperties(),n?[""]:[".style"]),o=this.props.isMobileView?"mobile":"desktop",r=this.shouldCloseOverlay(o)?this.props.closePopupPage:null,p=n?{"":{style:{position:"absolute",top:0,left:0,width:"100%",height:"auto",minHeight:"100vh"},"data-ispopup":this.props.isPopupPage},inlineContent:{style:{pointerEvents:"none"}},bg:{onClick:r}}:{"":{style:s,"data-ispopup":this.props.isPopupPage},bg:this.createFillLayers(this.getBalataProps(r))};return e.merge(a,p)}};return n.compRegistrar.register("wixapps.integration.components.AppPage",v).register("mobile.core.components.Page",v),v}.apply(t,n))||(e.exports=s)},444:function(e,t,i){var n,s;n=[i(0),i(21),i(2),i(1),i(120),i(38),i(3)],void 0===(s=function(e,t,i,n,s,a,o){"use strict";var r=t.fittingTypes,p=i.mediaConsts,l=i.containerBackgroundUtils;function c(t,i){var n=e.get(t,"scrollType"),s=e.get(t,["mediaRef","type"]);return(!("Image"===s||"WixVideo"===s)||function(e){return e.isMobileView?"viewport"!==e.compData.mediaSizing:!e.fixedSiteBackground}(i)||i.isAndroidOldBrowser)&&(n="scroll"),n}function d(e,t){var i=t?1e3:1920,n=Math.min(i,e.width);return{width:n,height:Math.min(i,Math.round(n/(e.width/e.height)))}}function u(t,n,s){var a=function(t,i){var n="absolute";return"WixVideo"!==e.get(t,["mediaRef","type"])&&"fixed"!==i&&"parallax"!==i||(n="fixed"),n}(n,c(n,t)),o={top:0,height:"100%",width:"100%",backgroundColor:i.colorParser.getColor(t.colorsMap,n.color),display:s?"none":"",position:a};return"fixed"===a&&(t.isMobileView?(o.willChange="transform",o.overflowX="hidden"):o.top="".concat(t.style.top,"px")),o}function h(e){var t="100%";return"parallax"===e&&(t="120%"),t}function m(e){var t=0;return"parallax"===e&&(t=0),t}function g(n,s){var a,o=s.mediaRef,p=c(s,n),u={position:"absolute",top:m(p),height:h(p),width:"100%",opacity:o&&o.opacity};if(n.isMobileView&&"fixed"===p&&(u.willChange="transform"),n.shouldRenderSrc&&"Image"===(a=s,e.get(a,["mediaRef","type"],"Color"))){var g=function(n,s){var a=s.mediaRef,o=d(a,n.isMobileView),p=l.getImageUrlPreMeasureParams(o,a,s.fittingType,s.alignType,n.isMobileView,n.isInSeo),c={width:p.width,height:p.height,htmlTag:"bg",alignment:s.alignType,devicePixelRatio:p.devicePixelRatio},u={width:a.width,height:a.height,id:a.uri},h=t.getData(p.fittingType,u,c,e.pick(p,"filters")),m=t.getData(s.fittingType,u,e.assign(c,o)),g=i.urlUtils.isExternalUrl(h.uri)?h.uri:i.urlUtils.joinURL(n.staticMediaUrl,h.uri),y=e.assign({},m.css.container,p.imageCss);(function(e){return e.isMobileView&&"viewport"===e.compData.mediaSizing})(n)&&(y.backgroundPosition=m.css.container.backgroundPosition.replace(/(center|bottom)$/,"top"),s.fittingType===r.SCALE_TO_FILL&&(y.height="100vh"));return{url:g,css:y}}(n,s),y=g.url,f=g.css;u.backgroundImage="url(".concat(y,")"),e.assign(u,f)}return u}function y(t,i){var n=t.background,s=i.background,a=n.mediaRef||{},o=s.mediaRef||{},r=!n.mediaRef&&!s.mediaRef,p=r||a.type===o.type,l=t.mediaSizing===i.mediaSizing,c=["type","alignType","fittingType","scrollType","colorOverlay","colorOverlayOpacity","color","videoId","uri","opacity"];return"WixVideo"===a.type&&p?c=e.without(c,"color"):r&&(c=["color"]),p&&l&&function t(i,n,s,a){var o=e.every(a,(function(e){return(i&&i[e])===(n&&n[e])}));return o=o&&e.every(s,(function(e){return!i||t(i[e],n[e],s,a)}))}(n,s,["mediaRef","imageOverlay"],c)}function f(e,t){var n=t.colorOverlay?i.colorParser.getColor(e.colorsMap,t.colorOverlay,t.colorOverlayOpacity):null;return{position:"absolute",top:0,width:"100%",height:"100%",backgroundImage:function(e,t){if(!t)return null;return"url(".concat(i.urlUtils.joinURL(e.staticMediaUrl,t.uri),")")}(e,t.imageOverlay),backgroundColor:n}}var v={displayName:"SiteBackground",mixins:[s.mediaLogicMixins.fill,o.mixins.skinBasedComp,n.mixins.animationsMixin,a.mixins.backgroundDetectionMixin,o.mixins.createChildComponentMixin],propTypes:e.defaults({id:n.santaTypesDefinitions.Component.id,compData:n.santaTypesDefinitions.Media.SiteBackground.data,actionsAspect:n.santaTypesDefinitions.SiteAspects.actionsAspect.isRequired,currentUrlPageId:n.santaTypesDefinitions.Component.currentUrlPageId,isMobileView:n.santaTypesDefinitions.isMobileView.isRequired,isInSeo:n.santaTypesDefinitions.isInSeo,isAndroidOldBrowser:n.santaTypesDefinitions.mobile.isAndroidOldBrowser,colorsMap:n.santaTypesDefinitions.Theme.colorsMap,staticMediaUrl:n.santaTypesDefinitions.ServiceTopology.staticMediaUrl,componentViewMode:n.santaTypesDefinitions.RenderFlags.componentViewMode.isRequired,hideSiteBackground:n.santaTypesDefinitions.RenderFlags.hideSiteBackground.isRequired,isPlayingAllowed:n.santaTypesDefinitions.RenderFlags.isPlayingAllowed,fixedSiteBackground:n.santaTypesDefinitions.BrowserFlags.fixedSiteBackground,renderParts:n.santaTypesDefinitions.Media.SiteBackground.renderParts,playbackFormat:n.santaTypesDefinitions.Media.SiteBackground.playbackFormat,playbackConfig:n.santaTypesDefinitions.Media.SiteBackground.playbackConfig,playbackUrl:n.santaTypesDefinitions.Media.SiteBackground.playbackUrl,style:n.santaTypesDefinitions.Component.style.isRequire,renderType:n.santaTypesDefinitions.PublicModel.renderType},n.utils.santaTypesUtils.getSantaTypesByDefinition(a.components.html5Video)),statics:{behaviors:s.mediaBehaviors.fill},previousScroll:null,getInitialState:function(){return this.size={},{resetAttachment:!1,hidePrevious:!1,showMedia:!1}},callForBackgroundChange:function(t){var i={onComplete:function(){this.isPageChanged()&&(e.result(this.refs,["previousVideo","kill"]),this.setState({previousPageBackground:null,resetAttachment:!1,hidePrevious:!0}))}.bind(this)};this.props.actionsAspect.registerNextBGPageTransition(this,"previous","current",i),this.setState({previousPageBackground:t,resetAttachment:!0,hidePrevious:!1,currentVisiblePageId:null})},handlePageChange:function(t,i){if(i.currentUrlPageId!==t.currentUrlPageId){var n=i.mediaAspect.getPrevPageBackground()||i.compData;y(n,t.compData)?(e.result(this.refs,["previousVideo","kill"]),this.setState({previousPageBackground:null,currentVisiblePageId:this.state.currentVisiblePageId||i.compData.background.id})):this.callForBackgroundChange(e.assign(n.background,{renderParts:e.cloneDeep(i.renderParts),playbackConfig:e.cloneDeep(i.playbackConfig),playbackUrl:i.playbackUrl,playbackFormat:i.playbackFormat}))}},UNSAFE_componentWillReceiveProps:function(e){this.handlePageChange(e,this.props),this.handleVideoDataChange(this.props,e)},handleParallaxBehavior:function(e){var t=c(e,this.props);("parallax"===this.previousScroll||"parallax"===t)&&(this.previousScroll=t,"parallax"===t?this.props.actionsAspect.registerBehaviors("currentImage","siteBackground",[{action:"bgScrub",name:"SiteBackgroundParallax",duration:1,delay:0}]):this.props.actionsAspect.unRegisterBehaviors("currentImage",[{action:"bgScrub",name:"SiteBackgroundParallax",duration:1,delay:0}]))},getClasses:function(){return""},isPageChanged:function(){return this.props.compData.background.id!==e.get(this.state,["previousPageBackground","id"])},createVideoComponent:function(t,i,n,s,a,o){var r="wysiwyg.viewer.components.background.html5Video",c="skins.viewer.bgVideo.html5VideoSkin",u="bgVideo",h=t.mediaRef,m="current"===i;if("WixVideo"!==e.get(h,"type"))return m&&this.setMediaAPI(null),null;var g=d(h.posterImageRef,this.props.isMobileView),y=this.props,f=y.isMobileView,v=y.isInSeo,b=l.getImageUrlPreMeasureParams(g,h.posterImageRef,t.fittingType,t.alignType,f,v);return this.createChildComponent(h,r,{skin:c,styleId:u},{id:"".concat(this.props.id+i,"Video"),parentId:this.props.id,key:"vid_".concat(h.videoId),style:{width:"100%",height:"100%"},notifyMediaState:this.onMediaStateChange,setMediaAPI:m?this.setMediaAPI:e.noop,videoRenderParts:n,playbackUrl:s,format:a,config:o,className:"siteBackground".concat(i,"Video"),showMedia:this.state.showMedia,isPlayingAllowed:this.props.isPlayingAllowed,notifyVideoVisibility:m?this.notifyVideoVisibility:e.noop,posterWidth:g.width,posterHeight:g.height,shouldRenderSrc:this.props.shouldRenderSrc,imageUrlPreMeasureParams:b,fittingType:t.fittingType,alignType:t.alignType,compProp:e.pick(h,p.playback.SUPPORTED_MEDIA_ATTRIBUTES),isEditorMode:"editor"===this.props.componentViewMode,wixVideoLayout:"bolt"===this.props.renderType})},notifyVideoVisibility:function(e){e!==this.state.showMedia&&this.setState({showMedia:e})},getSkinProperties:function(){var t=this.state.currentVisiblePageId||this.props.compData.background.id,i=e.get(this.state.previousPageBackground,"id","noPrev");i=i===t?"noPrev":i;var n,s,a=null,o=this.props.id,r=this.props.compData.background,l=g(this.props,r),d={id:"".concat(o,"_currentImage_").concat(t),style:l,"data-type":p.balataConsts.BG_IMAGE,"data-height":l.height},h=this.createVideoComponent(r,"current",this.props.renderParts.media.video,this.props.playbackUrl,this.props.playbackFormat,this.props.playbackConfig);h||this.setMediaAPI(null),this.state.previousPageBackground&&(a=this.state.previousPageBackground,s={id:"".concat(o,"_previousImage_").concat(i),style:a?g(this.props,a):{}},n=this.createVideoComponent(a,"previous",a.renderParts.media.video,a.playbackUrl,a.playbackFormat,a.playbackConfig)),this.handleParallaxBehavior(r);var m=u(this.props,r,!1),y=this.props.style,v=y.minHeight,b={"":{id:o,style:{height:"100%",top:y.top,minHeight:v},className:this.getClasses(),"aria-hidden":this.state.isAriaHidden},current:{key:t+c(r,this.props)+this.props.componentViewMode,id:"".concat(o,"_current_").concat(t),style:m,"data-position":m.position,"data-align":r.alignType,"data-fitting":r.fittingType},currentImage:d,currentVideo:h,currentOverlay:{id:"".concat(o,"_currentOverlay_").concat(t),style:f(this.props,r)},previous:{key:i+c(a,this.props)+this.props.componentViewMode,id:"".concat(o,"_previous_").concat(i),style:a?u(this.props,a,this.state.hidePrevious):{},"data-position":m.position,"data-align":e.get(a,"alignType",""),"data-fitting":e.get(a,"fittingType","")},previousImage:s,previousVideo:n,previousOverlay:{id:"".concat(o,"_previousOverlay_").concat(i),style:a?f(this.props,a):{}}};return this.props.hideSiteBackground&&(b[""]["data-dead-comp"]=!0),b},setAriaHiddenState:function(e){this.setState({isAriaHidden:e})}};return o.compRegistrar.register("wysiwyg.viewer.components.SiteBackground",v),v}.apply(t,n))||(e.exports=s)},445:function(e,t,i){var n,s;n=[i(2),i(446),i(447)],void 0===(s=function(e,t,i){"use strict";e.jsonUpdaterRegistrar.registerPlugin("wysiwyg.viewer.components.Repeater",i),e.jsonUpdaterRegistrar.registerLayouterComp("wysiwyg.viewer.components.Repeater",t)}.apply(t,n))||(e.exports=s)},446:function(e,t,i){var n,s;n=[i(0),i(2)],void 0===(s=function(e,t){"use strict";var i=t.constants.COMP_LAYOUT_OPTIONS.REPEATER.ALIGNMENTS;function n(e,t,n,s){return e?function(e,t,n,s){switch(e){case i.LEFT:return 0;case i.RIGHT:return t;case i.CENTER:return t/2;case i.JUSTIFY:return t/(s>1?s-1:1)*n}}(e,t,n,s):0}var s={CardsLayoutProperties:function(t,s,a,o,r,p,l){var c=e.assign({},s.get(a[0]),o),d=t.getInnerPointer(r,["layout"]),u=s.get(d),h=p.alignment!==i.JUSTIFY?p.gap.horizontal:0,m=p.gap.vertical,g=u.width;l&&(g=l.width);var y=function(e,t,i){return e<t?1:Math.floor((e-t)/(t+i))+1}(g,c.width,h),f=Math.min(y,a.length),v=g-h*(f-1)-c.width*f,b=p.direction;if(e.transform(a,(function(t,r,l){var d=l%y;if(l>=y){var u=m+(e.get(o,"height")||s.get(a[l-y]).height);t[d]+=u}var P=n(p.alignment,v,d,f),S=function(e,t,n){return e!==i.JUSTIFY?n*t:0}(p.alignment,d,h),k=d*c.width+P+S,T={y:t[d],x:"rtl"!==b?k:g-c.width-k};s.merge(r,e.defaults(T,o))}),e.fill(Array(y),0)),g<c.width){var P=e.defaults({width:Math.max(g,c.width)},u);s.set(d,P)}}};return{setLayout:function(t,i,n,a,o){var r=i.get(t.getInnerPointer(n,["propertyQuery"])),p=i.get(t.data.getPropertyItem(r,t.components.getPageOfComponent(n).id)),l=t.components.getChildren(n);if(!e.isEmpty(l)&&p){var c=e.map(l,(function(e){return t.getInnerPointer(e,["layout"])}));s[p.type](t,i,c,a,n,p,o)}}}}.apply(t,n))||(e.exports=s)},447:function(e,t,i){var n,s;n=[i(0),i(2)],void 0===(s=function(e,t){"use strict";function i(t){return[t.id].concat(e.flatMap(t.components,i))}return function(n,s){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clear:e.noop,update:e.noop},o=s(n),r=n.components[0];if(!r||!o.dataItem)return n;if(e.isEmpty(o.dataItem.items))return e.defaults({components:[],layout:e.defaults({height:r.layout.height},n.layout)},n);var p=i(r);e.forEach(p,a.clear);var l=e.reduce(o.dataItem.items,(function(e,i){return e.concat(t.displayedOnlyStructureUtil.getUniqueStructure(r,i,a.update))}),[]);return e.defaults({components:l},n)}}.apply(t,n))||(e.exports=s)},448:function(e,t,i){var n,s;n=[i(2),i(449)],void 0===(s=function(e,t){"use strict";e.jsonUpdaterRegistrar.registerPlugin("wysiwyg.viewer.components.tpapps.TPAWidget",t),e.jsonUpdaterRegistrar.registerPlugin("wysiwyg.viewer.components.tpapps.TPASection",t),e.jsonUpdaterRegistrar.registerPlugin("wysiwyg.viewer.components.tpapps.TPAGluedWidget",t),e.jsonUpdaterRegistrar.registerPlugin("wysiwyg.viewer.components.tpapps.TPAMultiSection",t)}.apply(t,n))||(e.exports=s)},449:function(e,t,i){var n,s;n=[i(0),i(2)],void 0===(s=function(e,t){"use strict";function i(i,n,s,a){if(!(i&&i[n]&&i[n].widgets&&i[n].widgets[s]))return!1;var o=i[n].widgets[s];return e.get(o,"componentFields.componentUrl",!1)||t.scriptsOverridesService.getUrlOverrideForWidget(s,a.widgetsUrlOverride)}function n(t){var i=t&&e.isFunction(t.getClientSpecMap)?t.getClientSpecMap():e.get(t,"rendererModel.clientSpecMap");return i&&e.isFunction(i.toJS)?i.toJS():i}function s(t){return e.get(t,["rendererModel","previewMode"])}return function(t,a,o,r){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,o=n(t),r=e.isFunction(t.getQueryParams)?t.getQueryParams():{},p=e.get(a,"dataItem.widgetId"),l=e.get(a,"dataItem.applicationId");return!(!p||s(t))&&!!i(o,l,p,r)}(r,a(t))?e.assign({},t,{componentType:"wysiwyg.viewer.components.tpapps.TPAWidgetNative",skin:"wysiwyg.viewer.skins.TPAWidgetNativeSkin"}):t}}.apply(t,n))||(e.exports=s)},450:function(e,t,i){var n,s;n=[i(2),i(3)],void 0===(s=function(e,t){"use strict";var i={displayName:"BgImageStrip",mixins:[t.mixins.skinBasedComp],getSkinProperties:function(){return{bg:{style:{},"data-align-type":this.props.compProp.alignType,"data-fitting-type":this.props.compProp.fittingType,"data-type":e.mediaConsts.balataConsts.BG_IMAGE}}}};return t.compRegistrar.register("wysiwyg.viewer.components.BgImageStrip",i),i}.apply(t,n))||(e.exports=s)},47:function(e,t){e.exports=h},49:function(e,t){e.exports=m},5:function(e,t){e.exports=a},59:function(e,t){e.exports=g},6:function(e,t){e.exports=o},68:function(e,t){e.exports=y},69:function(e,t){e.exports=f},7:function(e,t){e.exports=r},90:function(e,t,i){var n,s;function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}n=[i(4),i(0),i(2),i(38),i(3),i(1)],void 0===(s=function(e,t,i,n,s,o){"use strict";var r=i.mediaConsts.balataConsts,p=r.MEDIA,l=r.OVERLAY,c=r.UNDERLAY,d=r.MEDIA_PARAMS,u=r.MEDIA_PADDING_PARAMS,h=r.OVERLAY_PARAMS,m=r.COLOR_BG_PARAMS,g={transform:"translateZ(0px)"};function y(e,n,s){var a=n[i.mediaConsts.balataConsts[e]]||{},o=t.get(s,["transforms",e],{}),r=t.merge({},a,o),p={};return r.opacity&&(p.opacity=r.opacity,r=t.omit(r,"opacity")),t.isEmpty(r)||(p.transform=t.reduce(r,(function(e,t,i){return e+="".concat(i,"(").concat(t,") ")}),"")),p}function f(e,t){return v(e,t)?e.clipParallaxWithWebkitClipPath()?{WebkitClipPath:"inset(0)"}:{clip:"rect(0,auto,auto,0)"}:{}}function v(e,t){return!e.isMediaPlayer&&t}var b={displayName:"Balata",mixins:[s.mixins.skinBasedComp,s.mixins.createChildComponentMixin],propTypes:t.defaults({id:e.string.isRequired,parentId:e.string.isRequired,compDesign:e.object,compProp:e.object,compBehaviors:e.array,rotationInDegrees:e.number,style:e.object,onClick:e.func,playerStyle:e.object,isDesktopDevice:o.santaTypesDefinitions.Device.isDesktopDevice.isRequired,isMobileView:o.santaTypesDefinitions.isMobileView.isRequired,componentViewMode:o.santaTypesDefinitions.RenderFlags.componentViewMode.isRequired,designDataChangeAspect:o.santaTypesDefinitions.SiteAspects.designDataChangeAspect.isRequired,clipParallaxWithWebkitClipPath:o.santaTypesDefinitions.BrowserFlags.clipParallaxWithWebkitClipPath,fixedBackgroundColorBalata:o.santaTypesDefinitions.BrowserFlags.fixedBackgroundColorBalata.isRequired,renderType:o.santaTypesDefinitions.PublicModel.renderType,isPlayingAllowed:e.bool,isEditorMode:e.bool,enableVideo:e.bool,enableBackgroundPadding:e.bool,notifyMediaState:e.func,registerStateChange:e.func,unregisterStateChange:e.func,setMediaAPI:e.func,playbackFormat:e.string,playbackConfig:e.object,playbackUrl:e.string,renderParts:e.object,getIsVisible:e.func,addVisibilityStateListener:e.func,addWebGLContext:e.func,removeWebGLContext:e.func,mask:e.object,maskPosterFallback:e.object,bgEffectName:e.string,isFullScreenHeight:e.bool,isFullScreenAndFixed:e.bool,label:e.string,bgData:e.object},o.utils.santaTypesUtils.getSantaTypesByDefinition(n.components.bgMedia),o.utils.santaTypesUtils.getSantaTypesByDefinition(n.components.bgOverlay)),getInitialState:function(){return{transforms:{}}},UNSAFE_componentWillReceiveProps:function(e){this.handleDesignDataBehaviors(e)},getBalataLayers:function(e){var i,n,s,r,v,b,P,S,k=this.props,T=k.bgEffectName,M=k.isFullScreenHeight,I=k.isFullScreenAndFixed,C=[],D=[],w=function(e,t,i,n){var s={skin:m.skin,styleId:m.style},a={style:y(c,i,t),colorOverlay:i.color,colorOverlayOpacity:i.colorOpacity,colorLayers:i.colorLayers,isFullScreenAndFixed:n,id:e.id+m.ref,ref:m.ref};return[null,m.comp,s,a]}(this.props,this.state,e,I);if(C.push(this.createChildComponent.apply(this,a(w))),!t.isEmpty(e.mediaRef)){var A=function(e,i,n,s,a,o){var r={skin:d.skin,styleId:d.style},l=t.assign(function(e,t,i,n){return{position:n?"fixed":"absolute",pointerEvents:t?"none":"auto",width:"100%",height:i?"100vh":"100%",top:0,left:0}}(0,s,a,o),y(p,n,i),e.designDataChangeAspect.cssScaleTransition),c={key:d.ref,style:l,id:e.id+d.ref,parentId:e.parentId,ref:d.ref,bgEffectName:s,isFullScreenHeight:a,mediaDimensions:e.mediaDimensions,containerStyle:e.containerStyle,filterEffect:n.filterEffect,fittingType:n.fittingType,alignType:n.alignType,mediaTransforms:n.mediaTransforms,enableVideo:e.enableVideo,notifyMediaState:e.notifyMediaState,registerStateChange:e.registerStateChange,unregisterStateChange:e.unregisterStateChange,renderParts:e.renderParts,playbackFormat:e.playbackFormat,playbackConfig:e.playbackConfig,playbackUrl:e.playbackUrl,setMediaAPI:e.setMediaAPI,compProp:e.compProp,isPlayingAllowed:e.isPlayingAllowed,isEditorMode:e.isEditorMode,shouldRenderSrc:e.shouldRenderSrc,imageUrlPreMeasureParams:e.imageUrlPreMeasureParams,playerStyle:e.playerStyle,getIsVisible:e.getIsVisible,addVisibilityStateListener:e.addVisibilityStateListener,addWebGLContext:e.addWebGLContext,removeWebGLContext:e.removeWebGLContext,rootId:e.rootId,maskPosterFallback:e.maskPosterFallback,isFullScreenAndFixed:e.isFullScreenAndFixed,label:e.label};return[n.mediaRef,d.comp,r,c]}(this.props,this.state,e,T,M,I);D.push(this.createChildComponent.apply(this,a(A)))}if(function(e){var t=e.mediaRef,i=e.imageOverlay||e.colorOverlay,n=e.showOverlayForMediaType||"WixVideo",s="all"===n||t&&n===t.type;return!(!i||!s)}(e)){var x=function(e,i,n,s){var a={skin:h.skin,styleId:h.style},o=!y(l,n,i).transform&&t(e.style).get("transform","").includes("scale"),r={key:h.ref,style:t.assign(y(l,n,i),o?g:null),colorOverlay:n.colorOverlay,colorOverlayOpacity:n.colorOverlayOpacity,imageOverlay:n.imageOverlay,isFullScreenAndFixed:s,blendMode:t.get(n.overlayBlending,"blendMode"),blendModeOpacity:t.get(n.overlayBlending,"opacity"),id:e.id+h.ref,ref:h.ref};return[null,h.comp,a,r]}(this.props,this.state,e,I);D.push(this.createChildComponent.apply(this,a(x)))}return i=this.props,n=t.get(i.compProp,"mediaBackgroundPadding",{}),s=n.top,r=void 0===s?0:s,v=n.bottom,b=void 0===v?0:v,P=i.enableBackgroundPadding,S=r||b||"editor"===i.componentViewMode,P&&S?(C.push(function(e,i,n){var s=t.get(e.compProp.mediaBackgroundPadding,"top",0),a=t.get(e.compProp.mediaBackgroundPadding,"bottom",0),r={key:u.ref,id:e.id+u.ref,ref:u.ref,style:{position:"absolute",width:"100%",height:"calc(100% - ".concat(s,"px - ").concat(a,"px)"),top:s,bottom:a}};return t.assign(r.style,f(e,i)),o.utils.createReactElement("div",r,n)}(this.props,M,D)),C):C.concat(D)},handleDesignDataBehaviors:function(e){var t=e.bgData,i=this.props.bgData;(this.setState({transforms:{}}),i.id!==t.id)&&this.props.designDataChangeAspect.notify(this.props.parentId,this.props.compDesign,e.compDesign)},getLayoutData:function(e,i){return{"data-page-id":this.props.rootId,"data-enable-video":(n=this.props.enableVideo,n?"true":""),"data-bg-effect-name":this.props.bgEffectName||"","data-media-type":t.get(e,["mediaRef","type"],""),"data-use-clip-path":this.props.clipParallaxWithWebkitClipPath()||"","data-needs-clipping":!i&&v(this.props,this.props.isFullScreenHeight)||"","data-render-type":this.props.renderType};var n},getTransforms:function(){var e=[];return t.get(this.props.compDesign,["cssStyle","cssBorderRadius"])&&e.push("translateZ(0)"),this.props.mask&&this.props.rotationInDegrees&&e.push("rotate(0.01deg)"),e.length?{transform:e.join(" ")}:{}},getSkinProperties:function(){var e,i,n,s,a,o=this.props.bgData,r=t.isEmpty(o)?null:this.getBalataLayers(o),p=f(this.props,this.props.isFullScreenHeight),l=t.assign({position:"absolute",top:0,width:"100%",height:"100%",overflow:"hidden",pointerEvents:this.props.bgEffectName?"none":"auto"},p,this.getTransforms(),this.props.style,this.props.mask),c={"":t.assign({style:l,children:r,key:(e=this.props,i=e.bgEffectName,n=e.enableVideo,s=e.isEditorMode,a=n?"video":"no_video",i?"balata_".concat(s?"no_playback":"playback","_").concat(a):"balata")},this.getLayoutData(o,this.props.isExperimentOpen("bv_smoothScroll")))};return this.props.onClick&&(c[""].onClick=this.props.onClick),c},getDefaultSkinName:function(){return"skins.viewer.balata.balataBaseSkin"}};return s.compRegistrar.register("wysiwyg.viewer.components.background.Balata",b),b}.apply(t,n))||(e.exports=s)}})}));
//# sourceMappingURL=components.min.js.map