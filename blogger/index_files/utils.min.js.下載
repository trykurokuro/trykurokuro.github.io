define("utils",["lodash","coreUtils","zepto","experiment","mobx","platformInit","color","coreMultilingual","dataFixer","platformUtils"],(function(e,t,a,r,n,i,o,s,c,l){return function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=1261)}({0:function(t,a){t.exports=e},1261:function(e,t,a){var r,n;r=[a(0),a(2),a(93),a(310),a(1262),a(1263),a(1267),a(1269),a(312),a(1271),a(145),a(311),a(1272),a(1273)],void 0===(n=function(e,t,a,r,n,i,o,s,c,l,u,p,g){"use strict";return{siteUtils:g,displayedOnlyStructureUtil:t.displayedOnlyStructureUtil,renderDoneMixin:t.renderDoneMixin,logger:t.loggingUtils.logger,log:t.log,deprecatedSiteModelMigrater:a.deprecatedSiteModelMigrater,htmlTransformer:t.htmlTransformer,textSecurityFixer:t.textSecurityFixer,htmlParser:t.htmlParser,throttleUtils:t.throttleUtils,keyboardUtils:t.keyboardUtils,classNames:t.classNames,cookieUtils:t.cookieUtils,dataFixer:a,tween:t.tween,urlUtils:t.urlUtils,routersBackEndRequests:o,Store:t.Store,mobileViewportFixer:t.mobileViewportFixer,dataUtils:t.dataUtils,seoUtils:c,dateTimeUtils:t.dateTimeUtils,validationUtils:t.validationUtils,ajaxLibrary:t.ajaxLibrary,menuUtils:t.menuUtils,fileUploadManager:t.fileUploadManager,cssUtils:t.cssUtils,linkRenderer:t.linkRenderer,fonts:{fontUtils:t.fontUtils,uploadedFontsUtils:r},triggerTypesConsts:t.triggerTypesConsts,wixUrlParser:t.wixUrlParser,wixUserApi:t.wixUserApi,MobileDeviceAnalyzer:t.MobileDeviceAnalyzer,FullSiteData:s,SiteDataPrivates:t.SiteDataPrivates,BootstrapSiteData:t.SiteData,hashUtils:t.hashUtils,guidUtils:t.guidUtils,arrayUtils:t.arrayUtils,stringUtils:t.stringUtils,mediaZoomCalculations:t.mediaZoomCalculations,objectUtils:t.objectUtils,animationFrame:t.animationFrame,scrollAnchors:t.scrollAnchors,layoutAnchors:t.layoutAnchors,originalValuesMapGenerator:t.originalValuesMapGenerator,domMeasurements:t.domMeasurements,storage:t.storage,style:t.style,galleriesCommonLayout:t.galleriesCommonLayout,requestsUtil:t.requestsUtil,imageTransformDataFixers:a.imageTransformDataFixers,boundingLayout:t.boundingLayout,siteConstants:t.siteConstants,languages:t.languages,getComponentsAnchorsMetaData:t.getComponentsAnchorsMetaData,verticalMenuCalculations:t.verticalMenuCalculations,appPartMediaInnerViewNameUtils:t.appPartMediaInnerViewNameUtils,anchorCyclesHelper:a.anchorCyclesHelper,postMessageCompMixin:n,colorParser:t.colorParser,reactComponentUtils:t.reactComponentUtils,dockUtils:t.dockUtils,layout:t.layoutUtils,positionAndSize:t.positionAndSize,viewportUtils:t.viewportUtils,containerBackgroundUtils:t.containerBackgroundUtils,svgFilters:t.svgFilters,svgFeatureDetection:t.svgFeatureDetection,math:t.math,socialAPI:i,functionUtils:t.functionUtils,constants:t.constants,siteRenderPrivateStuff:{fullToDisplayedJson:t.fullToDisplayedJson},modes:t.modesUtils,structureDimensions:t.structureDimensions,performance:t.loggingUtils.performance,performanceMetrics:t.loggingUtils.performanceMetrics,newrelic:t.loggingUtils.newrelic,mediaConsts:t.mediaConsts,balataConsts:t.mediaConsts.balataConsts,blogAppPartNames:t.blogAppPartNames,integrations:e.assign({},t.integrations),santaTypes:t.santaTypes,dataCapsule:t.integrations.dataCapsuleWrapper,observableDataUtil:u,imageTransform:t.imageClientApi,socialShareHandler:t.socialShareHandler,socialCounterDatabaseAPI:t.socialCounterDatabaseAPI,errorPages:t.errorPages,logWixCodeConsoleMessage:t.logWixCodeConsoleMessage,componentUtils:t.componentUtils,sessionFreezer:t.sessionFreezer,styleUtils:l,xss:{filterHtmlString:t.filterHtmlString},pageUtils:p}}.apply(t,r))||(e.exports=n)},1262:function(e,t,a){var r,n;r=[a(0)],void 0===(n=function(e){"use strict";return{componentWillMount:function(){this.handlers={}},componentWillUnmount:function(){e.forEach(this.handlers,function(e,t){this.clearPostMessageHandlerNamed(t)}.bind(this))},setPostMessageHandler:function(e,t){this.setPostMessageHandlerNamed("default",e,t)},setPostMessageHandlerNamed:function(e,t,a){this.handlers.hasOwnProperty(e)&&this.clearPostMessageHandlerNamed(e);var r=function(e){var r;try{r=JSON.parse(e.data)}catch(e){return}(r.id===t||null===t&&void 0===r.id)&&a(r)};window.addEventListener("message",r,!1),this.handlers[e]=r},clearPostMessageHandlerNamed:function(e){this.handlers[e]&&(window.removeEventListener("message",this.handlers[e],!1),delete this.handlers[e])}}}.apply(t,r))||(e.exports=n)},1263:function(e,t,a){var r,n;r=[a(1264),a(1265),a(1266)],void 0===(n=function(e,t,a){"use strict";return{facebook:e,pinterest:a,vk:t}}.apply(t,r))||(e.exports=n)},1264:function(e,t,a){var r,n;r=[a(7)],void 0===(n=function(e){"use strict";function t(t){return function(a,r){e.ajax({url:"https://api.facebook.com/restserver.php?format=json&method=links.getStats&urls="+encodeURIComponent(a),dataType:"json",success:function(e,a){if("success"===a&&e[0]){var n=function(e){return{likesAndShares:e.total_count||0,comments:e.commentsbox_count||0}}(e[0]);r(n[t])}else r(0,0)},error:function(){r(0,0)}})}}return t.likes=t.shares=t("likesAndShares"),t.comments=t("comments"),t}.apply(t,r))||(e.exports=n)},1265:function(e,t,a){var r;void 0===(r=function(){"use strict";function e(e){window.VK=window._tempVK,delete window._tempVK,window.document.head.removeChild(e)}return function(t,a){var r=window.document.createElement("script"),n=0;window._tempVK=window.VK,window.VK={Share:{count:function(e,t){n=t}}},r.setAttribute("type","text/javascript"),r.setAttribute("src","https://vk.com/share.php?act=count&url="+encodeURIComponent(t)),r.addEventListener("load",(function(){a(n),e(r)})),r.addEventListener("error",(function(){a(n),e(r)})),window.document.head.appendChild(r)}}.apply(t,[]))||(e.exports=r)},1266:function(e,t,a){var r,n;r=[a(7)],void 0===(n=function(e){"use strict";return function(t,a){var r=0;window._tempReceiveCount=window.receiveCount,window.receiveCount=function(e){r=e.count},e.ajax({url:"https://widgets.pinterest.com/v1/urls/count.json?url="+encodeURIComponent(t),dataType:"script",complete:function(){a(r),window.receiveCount=window._tempReceiveCount,delete window._tempReceiveCount}})}}.apply(t,r))||(e.exports=n)},1267:function(e,t,a){var r,n;r=[a(0),a(2),a(34),a(1268),a(8)],void 0===(n=function(e,t,a,r,n){"use strict";var i=t.ajaxLibrary,o="PAGES",s="SITE_MAP",c="SITE_MAP_COUNT",l={PAGES:"/pages",SITE_MAP:"/sitemap",SITE_MAP_COUNT:"/sitemapCount"},u=function(){return n.isOpen("specs.wixData.DynamicPagesRouter",null)};function p(t){var a=t.appDefinitionId,r=t.instanceId,n=t.isEditor,i=t.siteData,o=function(e){return{editor:{"wix-code":"https://".concat(e,".dev.wix-code.com/routers/custom"),dataBinding:u()?"/_api/dynamic-pages-router/v1":"https://".concat(e,".dev.wix-code.com/routers/data-binding")},viewer:{"wix-code":"/_api/wix-code-public-dispatcher/routers/custom",dataBinding:u()?"/_api/dynamic-pages-router/v1":"/_api/wix-code-public-dispatcher/routers/data-binding"}}}(r),s=(n?o.editor:o.viewer)[a];if(!n){var c=e.trimEnd(i.getExternalBaseUrl(),"/");return"".concat(c).concat(s)}return s}function g(e,t,a){var r=t.host,n=l[a];return/^\//.test(e)?"".concat(t.protocol,"//").concat(r).concat(e).concat(n):"".concat(e).concat(n)}function d(r){var n=r.paramObj,i=r.requestType,o=r.siteData,s=n.currentUrl,c=n.clientSpecMap,l=n.isEditor,d=n.routerDefinition.appDefinitionId,f=n.rendererModel_wixCodeModel_appData_codeAppId,m=a.specMapUtils.getAppSpec(c),v=m.instanceId,y=m.instance,b=p({appDefinitionId:d,instanceId:v,isEditor:l,siteData:o}),h=function(e,t,a,r){var n="viewMode=".concat(a?"editor":"site"),i="instance=".concat(e),o="gridAppId=".concat(t),s="dataBinding"===r&&u()?[n,o]:[n,i,o];return"?".concat(s.join("&"))}(y,f,l,d),P=g(b,s,i)+h,M={xhrFields:{withCredentials:!0},crossDomain:!0};return"dataBinding"===d&&u()&&e.assign(M,{headers:{Authorization:y}}),{url:P,successCallback:function(a){e.get(a,"result._elementoryError")&&t.logWixCodeConsoleMessage("Internal server error:".concat(a.result.stack))},extraAjaxParams:M}}function f(t){var r=t.paramObj,n=t.requestType,i=t.siteData,o=r.routerDefinition.appDefinitionId;if(/(wix-code|dataBinding)/.test(o))return d({paramObj:r,requestType:n,siteData:i});var s=r.currentUrl,c=r.clientSpecMap,l=r.isEditor,u=function(t,a,r,n,i,o){var s=e.find(a,{appDefinitionId:r}).appFields.platform.routerServiceUrl;return"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9"===r?function(e,t,a,r,n){if(!t){var i;if(r)i=e.path.replace(/.*?\/([^\/]*\/[^\/]*).*/,"$1");else{if(n)return a;i=e.path.replace(/.*?\/([^\/]*).*/,"$1")}return"/".concat(i).concat(a)}return a}(t,n,s,i,o):s}(s,c,o,l,r.isWixSite,r.isPremiumDomain),p=function(e,t,r){var n=["viewMode=".concat(r?"editor":"site")],i=a.specMapUtils.getAppSpec(e,t);return i&&n.push("instance=".concat(i.instance)),"?".concat(n.join("&"))}(c,o,l);return{url:g(u,s,n)+p}}function m(a,r,n,o,s){var c,l,u,p,g,d,m,v,y,b=f({paramObj:a,requestType:r,siteData:s}),h=b.url,P=b.successCallback,M=b.extraAjaxParams,D={type:"POST",dataType:"json",url:h,data:(c=a.pageRoles,l=a.suffix,u=a.routerDefinition,p=a.publicBaseUrl,g=a.formFactor,d=a.queryParams,m=e.isString(u.config)?JSON.parse(u.config):u.config,v="/".concat(l).replace(/^\/\//,"/"),y="".concat(p,"/").concat(u.prefix).concat(v),d&&(y="".concat(y,"?").concat(d)),{fullUrl:y,routerPrefix:"/".concat(u.prefix),routerSuffix:v,requestInfo:{formFactor:g},config:m,pageRoles:c}),success:function(e){P&&P(e),n(e)},error:o};e.assign(D,M),e.assign(D.headers,{"X-XSRF-TOKEN":t.cookieUtils.getCookie("XSRF-TOKEN")}),i.ajax(D)}function v(t,a,r){var n=e.map(r.getPagesList(t,!0),(function(e){return{pageId:e,title:r.getPageData(t,e).title}}));return{isEditor:!0,currentUrl:t.siteAPI.getCurrentUrl(),clientSpecMap:t.siteAPI.getClientSpecMap(),rendererModel_wixCodeModel_appData_codeAppId:t.dal.get(t.pointers.wixCode.getGridAppId()),routerDefinition:a,suffix:"",pageRoles:e.reduce(a.pages,(function(t,a,r){return t[r]={id:a,title:e.find(n,{pageId:a}).title},t}),{}),publicBaseUrl:t.siteAPI.getPublicBaseUrl()}}function y(t,a,r,n,i){m(t,a,(function(a){if(a.exception)n(a.result);else{var i,o,s,c=a.result;i=c,o=t.routerDefinition.prefix,s=new RegExp(".*?/".concat(o)),e.forEach(i,(function(e){e&&e.url&&(e.url=e.url.replace(s,""),"/"===e.url.charAt(0)&&e.url.length>1&&(e.url=e.url.substring(1)))})),r(a.result)}}),n,i)}return{getPage:function(t,a,n,i){var s=e.partial(r.checkResponse,t.routerDefinition,t.suffix,t.isPreview,t.isEditorPreview,t.primaryPageId,t.publicBaseUrl,a);m(t,o,s,n,i)},getInnerRoutesSiteMap:function(e,t,a,r){y(e,s,t,a,r)},getInnerRoutesSiteMapCount:function(e,t,a,r){y(e,c,t,a,r)},makeParamObjFromPs:v,makeTpaParamObjFromPs:function(t,a,r){var n,i,o,s=r.getPageData(t,a),c=t.siteAPI.getClientSpecMap(),l=e.get(c,e.get(s,"tpaApplicationId"),{});return v(t,{appDefinitionId:e.get(l,"appDefinitionId"),pages:(n={},i=e.get(s,"tpaPageId"),o=a,i in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n),prefix:e.get(s,"pageUriSEO")},r)},makeParamObjFromSiteData:function(a,r,n){var i=e.assign({},a.getQueryParams(),n.queryParams||{}),o=t.urlUtils.toQueryString(i);return{primaryPageId:a.getPrimaryPageId(),isPreview:!!a.documentServicesModel,isEditorPreview:"preview"===a.renderFlags.componentViewMode&&!!a.documentServicesModel,isEditor:!a.isViewerMode(),currentUrl:a.currentUrl,clientSpecMap:a.getClientSpecMap(),rendererModel_wixCodeModel_appData_codeAppId:e.get(a,"rendererModel.wixCodeModel.appData.codeAppId"),routerDefinition:r,suffix:n.innerRoute,queryParams:o,pageRoles:e.reduce(r.pages,(function(t,r,n){var i=e.chain(a).get("rendererModel.pageList.pages").find({pageId:r}).get("title").value();return t[n]={id:r,title:i||e.get(a.getDataByQuery(r),"title")},t}),{}),publicBaseUrl:a.getPublicBaseUrl(),formFactor:a.isMobileView()||a.isMobileDevice()?"mobile":"desktop",isWixSite:a.isWixSite(),isPremiumDomain:a.isPremiumDomain()}}}}.apply(t,r))||(e.exports=n)},1268:function(e,t,a){var r,n;r=[a(0),a(2)],void 0===(n=function(e,t){"use strict";var a=t.errorPages,r=t.logWixCodeConsoleMessage;return{checkResponse:function(n,i,o,s,c,l,u,p){var g=p.result,d=g.page,f=g.data,m=g.head,v=g.tpaInnerRoute,y=g.publicData,b=g.status,h=g.redirectUrl,P=g.message,M={pageId:d,pageData:f,pageHeadData:m,status:b,message:P};v&&(M.tpaInnerRoute=v),y&&(M.publicData=y);var D=e.parseInt(b);if(p.exception?function(e,r,n,i){var o=new Error(e.message);o.name=e.name,o.stack=e.stack,t.logWixCodeConsoleError(o),i.pageId=r?n:a.IDS.INTERNAL_ERROR}(p.result,o,c,M):(h?function(e,t,a,n){r("Redirected with status ".concat(a,' to URL: "').concat(t,'"')),n.redirectUrl=t,n.pageId=e}(c,h,b,M):403===D?function(e,t,n){r("Forbidden (403) - The request was a valid request, but the server is refusing to respond to it. The user might be logged in but does not have the necessary permissions for the resource."),n.pageId=e?t:a.IDS.FORBIDDEN}(o,c,M):404===D?function(e,t,n){r("Not Found (404) - The requested resource could not be found"),n.pageId=e?t:a.IDS.NOT_FOUND}(o,c,M):D&&!d?function(e,t,n){r("Send status ".concat(n.status," with message: ").concat(n.message)),n.sendStatus=!0,n.pageId=e?t:a.IDS.UKNOWN_ERROR}(o,c,M):d||function(e,t,n,i){r("Uknown error(".concat(i,")")),n.pageId=e?t:a.IDS.UKNOWN_ERROR}(o,c,M,b),r(P)),(D>=400||p.exception)&&s){var S="/".concat(i).replace(/^\/\//,"/");M.errorInfo={statusCode:p.exception?500:D,routerUrl:"/".concat(n.prefix).concat(S),publicUrl:"".concat(l,"/").concat(n.prefix).concat(S)}}u(M)}}}.apply(t,r))||(e.exports=n)},1269:function(e,t,a){var r,n;function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}r=[a(0),a(20),a(93),a(2),a(311),a(312),a(1270),a(55),a(8)],void 0===(n=function(e,t,a,r,n,o,c,l,u){"use strict";var p,g=["pageStubComponents","renderFlags","platform","activeModes","layoutAdjustment","resolvedDataMaps","svgShapes","wixappsRenderCounters","_currentPageIds","_currentRootInfos","mediaQualityStore","requestModel","customUrlMapping","rendererModel","screenSize","mobileStructures","platformWidgetsState","prefetchPages","currentUrl","multilingual","nativeComponents"],d=["getPagesDataItems","getMainPageId","getCurrentPopupId","getAllStylesFromPossiblyRenderedRoots","getGeneralTheme","getFontsMap","getColorsMap","getAllPageIds","isMobileView"],f=["isMobileView"];function m(t,a){if(a.content){var r=e(a).pick(["name","property"]).keys().head(),n={};n[r]=a[r],e.find(t,n)||t.push(a)}}function v(n){var i;if(n){n&&n.wixData&&(n.wixBiSession.suspectDeadCode("deprecatedSiteModelMigrater"),a.deprecatedSiteModelMigrater(n)),r.mobxDataHandlers.setMobxDataHandlers(this,c);var o=r.DALFactory.getInstance(this,{pagesData:n.pagesData||{}});r.SiteData.call(this,n,o.getByPath.bind(o));var u,p=n.rendererModel.sitePropertiesInfo&&n.rendererModel.sitePropertiesInfo.multilingualInfo;if(p&&p.originalLanguage&&(p.originalLanguage.name=l.mapLanguageCodeToName(p.originalLanguage.languageCode),p.originalLanguage.localizedName=l.mapLanguageCodeToLocalizedName(p.originalLanguage.languageCode),p.translationLanguages=p.translationLanguages.map((function(e){return Object.assign({},e,{name:l.mapLanguageCodeToName(e.languageCode),localizedName:l.mapLanguageCodeToName(e.languageCode)})})),"editor"!==this.renderFlags.componentViewMode)){var m=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=t.currentUrl&&t.currentUrl.query.lang;return r&&e.find(a,{languageCode:r})?r:e.get(t.rendererModel,"sitePropertiesInfo.multilingualInfo.originalLanguage.languageCode","")}(n,p.translationLanguages);this.multilingual.currentLanguageCode=m}!function(t,a){Object.prototype.watch&&(Object.prototype.watch=void 0),e.forEach(g,(function(e){a.setByPath([e],t[e])}))}(this,o),function(t,a){e(t).pickBy((function(t){return e.isNumber(t)||e.isBoolean(t)||e.isString(t)||e.isUndefined(t)||e.isNull(t)})).forOwn((function(e,t){a.setByPath([t],e)}))}(this,o),u=this,e.forEach(d,e.bind((function(a){var r=u[a],n="SiteData.".concat(a),i=t.computed(r,{context:this,name:"siteData.".concat(n)});u[a]=function(){return i.get()},e.includes(f,a)&&t.observe(i,e.noop)}))),t.extendObservable(this,{observableUpdateIndex:0,siteAspectsData:t.observable.map(),relayoutBlockedByQueue:!1,renderingCompsMap:t.observable.map({},"renderingCompsMap"),renderRealtimeConfig:{previewTooltipCallback:null,hideTextComponent:null,compsToHide:(i={},s(i,r.constants.VIEW_MODES.DESKTOP,t.observable.shallowMap({},"compsToHideDesktop")),s(i,r.constants.VIEW_MODES.MOBILE,t.observable.shallowMap({},"compsToHideMobile")),i),compsToShowOnTop:null,compsToShowWithOpacity:null}}),this.dynamicPages.headData=this.dynamicPages.headData||{},this.dynamicPages.data=this.dynamicPages.data||{},this.dynamicPages.currMetaTags={},this.pageIdToOgTags={},this.pageIdToTwitterTags={},this.isSaveInProgress=!1,this.isSaveAllowedByDSconfig=!0,e.bindAll(this,["getDynamicPageTitle","getCurrentUrlPageTitle","getCurrDynamicPageMetaTags","resetCurrDynamicPageMetaTags","getDynamicPageSEOMetaData","addDynamicPageData","getDynamicPageData","addDynamicPageHeadData","getDynamicPageHeadData","getPageOgTags","setPageOgTags","getPageSEOMetaData","getPageTwitterTags","setPageTwitterTags","getCurrentPageSEOMetaData","getTpaSEOMetaData"])}}return p=e.isArray,e.isArray=function(e){return t.isObservableArray(e)||p(e)},v.prototype=e.create(r.SiteData.prototype,{constructor:v,getCurrentPageTitleBase:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.rendererModel.siteInfo.siteTitleSEO||"",a=t;this.publicModel&&this.publicModel.siteDisplayName&&(a=this.publicModel.siteDisplayName);var r=this.getCurrentUrlPageId(),i=this.getDataByQuery(r),o=i.title||"",s=n.extractPageTitleFromOriginalTitle(i.pageTitleSEO,e,t),c=this.isHomePage(r),l=this.getDynamicPageTitle(r,e);return l?a=l:s?a=s:c||(a=e?"".concat(a," | ").concat(o):o),a},getDynamicPageTitle:function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.isDynamicPage(t)){var r=e.get(this.dynamicPages.headData,[t,"title"]);if(!r){var n=e.get(this.dynamicPages.data,[t,"routerDefinition","prefix"]),i=this.getRootNavigationInfo().innerRoute,s=this.rendererModel.siteInfo.siteTitleSEO||"";this.publicModel&&this.publicModel.siteDisplayName&&(s=this.publicModel.siteDisplayName);var c="".concat(n," ").concat(i),l=a?"".concat(s," | ").concat(c):c;return l.trim()}return o.sanitizeHTMLInjectionFromString(r)}},getCurrentUrlPageName:function(){return this.getCurrentPageTitleBase(!1)},getCurrentUrlPageTitle:function(){return this.getCurrentPageTitleBase(!0)},getCurrDynamicPageMetaTags:function(){return this.dynamicPages&&this.dynamicPages.currMetaTags},resetCurrDynamicPageMetaTags:function(){this.dynamicPages&&(this.dynamicPages.currMetaTags={})},getDynamicPageSEOMetaData:function(e){var t=this.getDynamicPageHeadData(e),a=o.getSEOMetaTagsForDynamicPage(t,this.getCurrentUrl(),this.getCurrentUrlPageTitle(),this.serviceTopology);return this.dynamicPages.currMetaTags=a,a},addDynamicPageData:function(t,a,r){e.set(this.dynamicPages.data,[t],{routerData:a,routerDefinition:r})},getDynamicPageData:function(e){return this.dynamicPages&&this.dynamicPages.data&&this.isDynamicPage(e)?this.dynamicPages.data[e||this.getPrimaryPageId()]:null},addDynamicPageHeadData:function(t,a){e.set(this.dynamicPages.headData,[t],a)},getDynamicPageHeadData:function(e){return this.dynamicPages&&this.dynamicPages.headData?this.dynamicPages.headData[e||this.getPrimaryPageId()]:null},getPageOgTags:function(t,a){e.isUndefined(this.pageIdToOgTags[t])&&(this.pageIdToOgTags[t]=[]);var r=e.cloneDeep(this.pageIdToOgTags[t]);return m(r,{property:"og:title",content:this.getCurrentUrlPageTitle()}),m(r,{property:"og:url",content:this.getCurrentUrl()}),m(r,{property:"og:description",content:e.get(a,"descriptionSEO")}),r},setPageOgTags:function(e,t){this.pageIdToOgTags[e]=t},getPageTwitterTags:function(t){return e.cloneDeep(this.pageIdToTwitterTags[t]||[])},setPageTwitterTags:function(e,t){this.pageIdToTwitterTags[e]=t},getPageSEOMetaData:function(t){var a={},r=this.getDataByQuery(t);return r&&(a.description=r.descriptionSEO,a.keywords=r.metaKeywordsSEO,a.robotIndex="index",(!1===r.indexable||function(t,a,r){return"blog"===e.get(t,[r.appInnerID,"packageName"])&&/^(featured\/)?tag\//i.test(a.pageAdditionalData)}(this.getClientSpecMap(),this.getRootNavigationInfo(),r))&&(a.robotIndex="noindex"),a.ogTags=this.getPageOgTags(t,r),u.isOpen("sv_twitterMetaTags",{rendererModel:this.rendererModel})&&(a.twitterTags=this.getPageTwitterTags(t,r))),a},getPageSEOLinkHref:function(t,a){var r=this.getDataByQuery(t);return e.get(r,a)},getCurrentPageSEOMetaData:function(t){var a=this.getDynamicPageSEOMetaData(t);return e.isEmpty(a)?this.getPageSEOMetaData(t):a},getTpaSEOMetaData:function(){var t=e.chain(this).get("ssr.seoTpaModel.applicationsSeoData").map("compData.meta").compact().map((function(t){return e.pickBy(t,e.negate(e.isNil))})).value();return e.assign.apply(e,[{}].concat(i(t)))}}),v}.apply(t,r))||(e.exports=n)},1270:function(e,t,a){var r,n;r=[a(0),a(20),a(2),a(313),a(145)],void 0===(n=function(e,t,a,r,n){"use strict";var i=e.keyBy(["set","merge","push","remove"]);function o(e){return e&&"pagesData"===e[0]}a.wSpy.spyMobx(t);var s=e.keyBy(["components","children","mobileComponents"]);function c(t,r){if("structure"!==r[2]||r.length<=5)return!1;var i=function(t){return t.length>6&&e.has(s,t[5])?e.findLastIndex(t,(function(a,r){return e.has(s,a)&&!isNaN(Number(t[r+1]))}))+2:5}(r);if(-1!==i&&r.length>i){var o=r.slice(0,i+1),c=a.objectUtils.cloneDeep(e.get(t.pagesDataRaw,o));return n.setByPath(t,o,c),!0}return!1}function l(t,r,s){return o(r)&&(function(t,r,o){if("data"!==r[2]||r.length<5||o!==i.merge&&5===r.length)return!1;var s=r.slice(0,4),c=r[4],l=r.slice(0,5),u=n.getByPath(t,s);if(u&&e.isFunction(u.set)){var p=a.objectUtils.cloneDeep(e.get(t.pagesDataRaw,l));return u.set(c,p),!0}return!1}(t,r,s)||c(t,r))}function u(t,a){return e.has(t.pagesDataRaw,a)?e.get(t.pagesDataRaw,a):e.get(t,a)}return{getByPath:function(e,t,r,i){var s=o(t);if(r&&s){var c=u(e,t);return i?c:a.objectUtils.cloneDeep(c)}var l=n.getByPath(e,t);if(!l)return l;if(s){n.touch(l);var p=u(e,t);return i?p:a.objectUtils.cloneDeep(p)}return i?l:n.cloneDeep(l)},getObservableByPath:function(e,t){return n.getByPath(e,t)},getItemInPath:function(a,r){var n=a;return n.pagesDataRaw&&o(r)&&e.has(n.pagesDataRaw,r)?e.get(n.pagesDataRaw,r):(e.forEach(r,(function(a){if(e.isUndefined(n))return!1;n=t.isObservableMap(n)||e.has(n,"WixMap")?n.get(a):n[a]})),t.isObservable(n)?t.toJS(n,!1):n)},setByPath:function(t,a,s){if(o(a)&&e.set(t.pagesDataRaw,a,s),!l(t,a,i.set)){var c=r.transformData(t,a,s);n.setByPath(t,a,c)}},mergeByPath:function(t,a,s){var c=n.getByPath(t,a);if(o(a)){var u=e.get(t.pagesDataRaw,a);if(u)e.assign(u,s);else{var p=e.get(t.pagesDataRaw,e.dropRight(a));e.set(p,e.last(a),s)}}if(!l(t,a,i.merge)){var g=r.transformData(t,a,s);n.mergeObservable(c,g)}},pushByPath:function(t,a,r,n,s){o(s)&&e.get(t.pagesDataRaw,s).splice(a,0,n);l(t,s,i.push)||r.splice(a,0,n)},removeByPath:function(t,a){var r=e.initial(a),s=e.last(a),c=o(r)&&e.get(t.pagesDataRaw,r),u=n.getByPath(t,r);e.isArray(c)||e.isArray(u)?(c&&c.splice(s,1),l(t,a,i.remove)||u.splice(s,1)):(c&&delete c[s],!function(e){return"pagesData"===e[0]&&2===e.length}(a)?l(t,a,i.remove)||n.removeFromObj(u,s):(delete u[s],t.resolvedDataMaps&&t.resolvedDataMaps.delete(s)))},getKeysByPath:function(t,a,r){var i=o(a);if(r&&i)return e.keys(u(t,a));var s=n.getByPath(t,a);return n.getKeys(s)}}}.apply(t,r))||(e.exports=n)},1271:function(e,t,a){var r,n;function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r=[a(0),a(37),a(2),a(310)],void 0===(n=function(e,t,a,r){"use strict";var n=a.colorParser,s=function(e){var a=e.split(",");return t({r:a[0],g:a[1],b:a[2]}).hexString()},c=function(t,a,n,i){var o=e.assign(p(i,a),T(t)),s=e(o).map((function(t){return e.isString(t)&&(t=JSON.parse(t)),t.family||t.fontFamily})).uniq().value();return r.getUploadedFontFaceStyles(s,n.mediaRootUrl)},l=function(t,a,r,n,i){return u(e.assign(p(r,a),T(t)),n,i)},u=function(t,r,n){var i={};e.forEach(t,(function(e){"string"==typeof e&&(e=JSON.parse(e)),i[e.family||e.fontFamily]=1}));var o=a.fontUtils.getFontsUrlWithParams(i,r,n);return e.includes(o,"family=null")?"":o},p=function(t,a){var r={},n=g(t,a);return e.forEach(n,(function(e,t){t.match("param_font_")&&(r[t.replace("param_font_","")]=e)})),r},g=function(e,t){var a=t[e];if(!a)return null;var r=a.style&&a.style.properties;return r||null},d=function(r,i,o,c){var l=i[r];if(l&&!e.isString(l)&&l.value)return{themeName:void 0,value:l.value.cssColor||l.value.color.value||l.value.rgba};if(!o&&l&&e.isString(l)&&a.stringUtils.startsWith(l,"color_")){var u=n.getColorValue(c,l);u=e.includes(u,",")?s(u):u;var p=t(u);return{themeName:l,value:i.hasOwnProperty("alpha-".concat(r))&&1!==i["alpha-".concat(r)]?"rgba(".concat(p.values.rgb.join(","),",").concat(i["alpha-".concat(r)],")"):p.hexString()}}return o?{themeName:void 0,value:void 0}:{themeName:void 0,value:l}},f=function(t){return e.isBoolean(t)?t:"false"!==t},m=function(e,t){return"style.".concat(t.replace(e,""))},v=function(e,t){var a="object"===o(e)?e.value:JSON.parse(e);return a.fontStyleParam&&"Custom"===a.preset?y(a):a.fontStyleParam&&a.theme?h(a):a.fontStyleParam?b(a,t.font):a.fontParam&&"None"===a.preset?P(a):a.fontParam&&M(a),a},y=function(e){var t=a.fontUtils.getFontFamilyWithFallbacks(e.family),r="".concat(e.size,"px"),n="".concat(Math.floor(1.25*e.size),"px"),i=e.style.italic?"italic":"normal",o=e.style.bold?"bold":"normal",s="";s+="font:".concat([i,"normal",o,"".concat(r,"/").concat(n),t].join(" "),";"),s+=e.style.underline?"text-decoration:underline;":"",e.value=s},b=function(e,t){var a=T(t)[e.preset];e.value=a.value,e.size=parseInt(a.size,10),e.family=a.fontFamily,e.style.bold="bold"===a.weight,e.style.italic="italic"===a.style,e.style.underline=!1},h=function(e){var t=a.fontUtils.getFontFamilyWithFallbacks(e.family),r=a.fontUtils.parseFontStr(e.preset);e.value="font:".concat([r.style,r.variant,r.weight,"".concat(r.size,"/").concat(r.lineHeight),t].join(" "),";"),e.size=parseInt(r.size,10),e.family=r.family.toLowerCase(),e.style.bold="bold"===r.weight,e.style.italic="italic"===r.style,e.style.underline=!1},P=function(e){var t=a.fontUtils.getFontFamilyWithFallbacks(e.family),r=e.style.italic?"italic":"normal",n=e.style.bold?"bold":"normal",i="";i+="font-family:".concat(t,";font-style:").concat(r,";font-weight:").concat(n,";"),i+=e.style.underline?"text-decoration:underline;":"",e.value=i},M=function(e){e.family=e.value,e.value=D(e),e.size=0,e.style={bold:!1,italic:!1,underline:!1}},D=function(e){var t="font-family:".concat(e.cssFontFamily||e.value,";");return t=t.replace(/''/g,"'")},S=function(t,r,n){var i=a.fontUtils.getWixStoredFontsCssUrls(t,r);return n||(i=e.invokeMap(i,String.prototype.replace,/^https?\:/,"")),i},w=function(t,r,n,i,o,s,u){var p=t.THEME_DATA,m={colors:{},numbers:{},booleans:{},fonts:{},googleFontsCssUrl:l(p.font,t,r,o,s),uploadFontFaces:c(p.font,t,i,r)},y=g(r,t);return y?(e.forEach(y,(function(e,r){!function(e,t,r,n){var i=n.THEME_DATA,o=a.stringUtils.startsWith(e,"alpha-");t.hasOwnProperty(e)&&!o&&(e.match("param_color_")?r.colors[e.replace("param_color_","")]=d(e,t,o,i):e.match("param_number_")?r.numbers[e.replace("param_number_","")]=+t[e]:e.match("param_boolean_")?r.booleans[e.replace("param_boolean_","")]=f(t[e]):e.match("param_font_")&&(r.fonts[e.replace("param_font_","")]=v(t[e],i)))}(r,y,m,t)})),n?e.merge(m,{cssUrls:S(i,o,u)}):m):m},T=function(t){var r=0;return e.reduce({Title:"font_0",Menu:"font_1","Page-title":"font_2","Heading-XL":"font_3","Heading-L":"font_4","Heading-M":"font_5","Heading-S":"font_6","Body-L":"font_7","Body-M":"font_8","Body-S":"font_9","Body-XS":"font_10"},(function(e,n,i){var o,s,c,l;return e[i]=(o=t[r++],s=n,c=a.fontUtils.parseFontStr(o),l=a.fontUtils.getFontFamilyWithFallbacks(c.family),{editorKey:s,lineHeight:c.lineHeight,style:c.style,weight:c.weight,size:c.size,fontFamily:c.family.toLowerCase(),value:"font:".concat([c.style,c.variant,c.weight,"".concat(c.size,"/").concat(c.lineHeight),l].join(" "),";")}),e}),{})},x=function(t){return e.reduce(t,(function(t,a,r){return(r>=1&&r<=5||r>=11&&r<=35)&&t.push({name:"color_".concat(r),value:e.includes(a,",")?s(a):a}),t}),[])};return{getTextPresets:T,getSiteColors:x,getAllThemeForSDK:function(e,t,a){var r,n=e.getDataByQuery(a,t,e.dataTypes.THEME),o=e.getDataByQuery("THEME_DATA","masterPage",e.dataTypes.THEME);return i(r={},a,n),i(r,"THEME_DATA",o),r},getStylesForSDK:w,getStyleDataToPassIntoApp:function(t,r,n,i,o,s,c){var l,u=r.THEME_DATA,p=a.media.getMediaUrl(s,"editorUI/fonts.v19.png"),g=(l=a.fontUtils.getCurrentSelectablefontsWithParams(i,o),e.forEach(l,(function(t){t.fonts=e.reject(t.fonts,{permissions:"legacy"})})),l);return{fonts:{cssUrls:S(s,i,c),imageSpriteUrl:p,fontsMeta:g},siteTextPresets:T(u.font),siteColors:x(u.color),style:t?w(r,t,!1,s,i,o,c):{}}},getNameToFontsKeyMap:function(){var t={Title:"font_0",Menu:"font_1","Page-title":"font_2","Heading-XL":"font_3","Heading-L":"font_4","Heading-M":"font_5","Heading-S":"font_6","Body-L":"font_7","Body-M":"font_8","Body-S":"font_9","Body-XS":"font_10"};return e.invert(t)},getValueForWixParams:function(t,r,n){n(e.reduce(r,(function(n,i,o){var s=a.stringUtils.startsWith(o,"alpha-");return s?n:o.match("param_color_")?(n[m("param_color_",o)]=e.get(d(o,r,s,t),"value"),n):o.match("param_number_")?(n[m("param_number_",o)]=+i,n):o.match("param_boolean_")?(n[m("param_boolean_",o)]=f(i),n):o.match("param_font_")?(n[m("param_font_",o)]=e.get(v(i,t),"value"),n):void 0}),{}))}}}.apply(t,r))||(e.exports=n)},1272:function(e,t,a){var r,n;function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}r=[a(0)],void 0===(n=function(e){"use strict";function t(e,t,r){a(r,e)&&(a(t,e)||function(e,t,a){t&&(e[t.replace("#","")]=a)}(t,e,a(r,e)),function(e,t){t&&delete e[t.replace("#","")]}(r,e))}function a(e,t){return t&&e[t.replace("#","")]}function r(e,r,n,i){var o,s,c,l;r&&(r.mediaRef&&(o=i,s=r.mediaRef,c=n,(l=a(o,s))&&(t(s,c,o),t(l.posterImageRef,c,o))),t(r.imageOverlay,n,i))}var n=[["ogImageRef"],["pageBackgrounds","desktop","ref"],["pageBackgrounds","mobile","ref"]],o={BackgroundMedia:[["mediaRef"],["imageOverlay"]],AppPage:n,Page:n,WixVideo:[["posterImageRef"]]},s=function(t){if(!t)return{};var a=o[t.type]||[];return e(a).filter((function(a){return e.get(t,a)})).transform((function(a,r){a[e.get(t,r).replace(/^#/,"")]=r}),{}).value()},c=function(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.noop;return e(t).filter((function(e){var t=e.paths;return e.parent&&!t.translation&&!t.original})).forEach((function(n){var o=n.id,s=n.parent,c=n.pageId,l=t[s],u=l.refs[o],p=l.paths.translation,g=l.paths.original;if(p&&g){r(c);var d=e.get(a,[].concat(i(g),[s],i(u)));e.set(a,[].concat(i(p),[s],i(u)),d),delete t[o]}}))},l=function(t,a,r){return function(t,a,r,n,i){var o={};return function t(c){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",u={parent:l,paths:{translation:r[c]&&["translations",n,"data","document_data"],original:a[c]&&["data","document_data"]},pageId:i,id:c,refs:e.assign(s(r[c]),s(a[c]))};return o[c]=u,e.forEach(u.refs,(function(e,a){return t(a,u.id)})),u}(t),o}(r,t.data.document_data,a?e.get(t.translations,[a,"data","document_data"],{}):{},a,r)};function u(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0,i=a.structure.id,o=l(a,r,i);e.forEach(o,(function(r){var n=r.id,i=r.paths;e(i).values().compact().forEach((function(r){var i=r.concat(n),o=e.get(a,i);o&&(e.get(t,i)||e.set(t,i,o),e.unset(a,i))}))}));var s=l(t,r,i);c(s,t,n)}var p=function(e,t){return{pageId:e,path:["data","document_data",t.replace("#","")]}};return{getPageBackgroundDataPointers:function(e,t){var r=e.data.document_data,n=t.slice().map((function(e){return p(e,e)}));return n.reduce((function(e,t){var i=t.pageId,o=function(e){return n.push(p(i,e))},s=a(r,i);s&&s.pageBackgrounds&&a(r,s.pageBackgrounds.desktop.ref)&&[a(r,s.pageBackgrounds.desktop.ref),a(r,s.pageBackgrounds.mobile.ref)].forEach((function(e){if(e){if(o(e.id),e.mediaRef){o(e.mediaRef);var t=a(r,e.mediaRef);t&&t.posterImageRef&&o(t.posterImageRef)}e.imageOverlay&&o(e.imageOverlay)}}));return e}),n)},movePageDataToMaster:function(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.noop;t.structure&&(a.translations&&t.translations?Object.keys(t.translations).forEach((function(e){u(a,t,e,r)})):(u(a,t,"",r),a.translations&&Object.keys(a.translations).forEach((function(e){var n=l(a,e,t.structure.id);c(n,a,r)}))))},movePageDataFromMaster:function(e,n){if(e.structure){var i=n.data.document_data,o=e.data.document_data,s=e.structure.id;if(c(s,o,i),n.translations&&e.translations)Object.keys(e.translations).forEach((function(t){if(n.translations[t]){var a=e.translations[t].data.document_data,r=n.translations[t].data.document_data,i=Object.assign({},n.data.document_data,a);c(s,i,r)}}))}function c(e,n,i){var o,s,c=a(i,e);if(t(e,n,i),c&&c.pageBackgrounds&&c.pageBackgrounds.desktop.ref){if(a(n,c.pageBackgrounds.desktop.ref))return;o=a(i,c.pageBackgrounds.desktop.ref),s=a(i,c.pageBackgrounds.mobile.ref),t(c.pageBackgrounds.desktop.ref,n,i),t(c.pageBackgrounds.mobile.ref,n,i),r(c.id,o,n,i),r(c.id,s,n,i)}}}}}.apply(t,r))||(e.exports=n)},1273:function(e,t,a){var r,n;r=[a(0),a(313),a(1274),a(1275),a(1279),a(1280),a(1281),a(1282),a(1283)],void 0===(n=function(e,t,a,r,n,i,o,s,c){"use strict";var l=i(!1),u=i(!0);t.registerTransformPlugin("siteAspectsData",a),t.registerTransformPlugin("pagesData",r),t.registerTransformPlugin("renderFlags",n),t.registerTransformPlugin("pageStubComponents",u),t.registerTransformPlugin("nativeComponents",u),t.registerTransformPlugin("wixappsRenderCounters",l),t.registerTransformPlugin("customUrlMapping",l),t.registerTransformPlugin("svgShapes",l),t.registerTransformPlugin("platformWidgetsState",l),t.registerTransformPlugin("platform",o),t.registerTransformPlugin("mediaQualityStore",l),t.registerTransformPlugin("activeModes",l),t.registerTransformPlugin("resolvedDataMaps",l),t.registerTransformPlugin("mobileStructures",l),t.registerTransformPlugin("rendererModel",c),t.registerTransformPlugin("renderRealtimeConfig",s)}.apply(t,r))||(e.exports=n)},1274:function(e,t,a){var r,n;r=[a(0),a(20)],void 0===(n=function(e,t){"use strict";function a(a){return t.observable.shallowObject({globalData:e.isUndefined(a.globalData)?void 0:a.globalData,dataByCompId:t.observable.shallowMap(a.dataByCompId||{})})}return function(r,n,i){if(1===n.length){var o=e.mapValues(i,a);return t.observable.shallowMap(o)}return 2===n.length?a(i):i}}.apply(t,r))||(e.exports=n)},1275:function(e,t,a){var r,n;r=[a(0),a(20),a(1276)],void 0===(n=function(e,t,a){"use strict";function r(e,r,n,i){var o=a.createMobxPage(n,r);if(o.data&&o.structure){var s=a.createResolvedDataMaps(o.data,e.resolveData,i);a.observeDataMapsChanges(o.data,s,e.resolveData,i),e.resolvedDataMaps=e.resolvedDataMaps||t.observable.map(),e.resolvedDataMaps.set(i,s)}return o}function n(r,n,i){var o=t.isObservableMap(i),s=e.transform(r,(function(t,r){var s=r.id,c=o?i.get(s):e.get(i,s);return c?(e.assign(c,r),e.set(t,s,c)):e.set(t,s,a.createMobxStructure(r,n))}),{});return o?(e(i.toJS()).keys().difference(e.keys(s)).forEach((function(e){return i.delete(e)})),i.merge(s),i):s}return function(i,o,s){var c=!i.getBrowser().safari;if(1===o.length)return t.isObservableMap(i.resolvedDataMaps)||(i.resolvedDataMaps=t.observable.map()),i.resolvedDataMaps.clear(),e.mapValues(s,e.partial(r,i,c));if(2===o.length){var l=o[1];return r(i,c,s,l)}if(3===o.length){var u=e.get(i.pagesDataRaw,o),p=e.get(i,o);return e.reduce(u,(function(a,r,i){var o=a[i]||t.observable.shallowMap();return e.set(a,i,n(r,c,o))}),p)}if(function(e){return 4===e.length&&"structure"===e[2]}(o)){var g=e.get(i,o);return n(e.get(i.pagesDataRaw,o),c,g)}if(function(e){return 5===e.length&&"structure"===e[2]}(o)){var d=e.get(i,o);return d?(e.assign(d,s),d):a.createMobxStructure(s,c)}return s}}.apply(t,r))||(e.exports=n)},1276:function(e,t,a){var r,n;r=[a(0),a(20),a(2),a(1277),a(1278)],void 0===(n=function(e,t,a,r,n){"use strict";function i(e,r,n,i,o){return t.computed((function(){var t=e.get(r);if(!t)return{};var s="Page"===t.type?t.id:o,c=i(t,s,n);return a.objectUtils.cloneDeep(c||t)}),{name:"dataItemComputed_".concat(r)})}var o=e(new r({})).keysIn().keyBy().mapValues(e.noop).value();var s=function(a,n){var i=n?function(e){return new r(e)}:function(a){return t.observable(e.defaults({},a,o))};return a.DESKTOP?{DESKTOP:t.observable.shallowMap(e.mapValues(a.DESKTOP,i)),MOBILE:t.observable.shallowMap(e.mapValues(a.MOBILE,i))}:i(a)};return{createMobxStructure:s,createMobxPage:function(a,r){return a.structure&&a.data?t.observable.shallowObject(e.mapValues(a,(function(i,o){switch(o){case"structure":return s(a.structure,r);case"data":return t.observable.shallowObject((c=a.data,e.mapValues(c,(function(t){return n(e.clone(t))}))));default:return i}var c}))):a},createResolvedDataMaps:function(a,r,n){return e.transform(a,(function(a,o,s){var c=e.transform(o.keys(),(function(e,t){e[t]=i(o,t,s,r,n)}),{});a[s]=t.observable.map(c)}),{})},observeDataMapsChanges:function(t,a,r,n){e.forOwn(t,(function(e,t){e.observe((function(o){var s=o.name;switch(o.type){case"add":a[t].set(s,i(e,s,t,r,n));break;case"delete":a[t].delete(s)}}))}))}}}.apply(t,r))||(e.exports=n)},1277:function(e,t,a){var r,n;r=[a(0),a(20)],void 0===(n=function(e,t){"use strict";function a(e){return{get:function(){return this.$observables[e]=this.$observables[e]||t.observable.shallowBox(),this.$observables[e].get()},set:function(a){this.$observables[e]?this.$observables[e].set(a):this.$observables[e]=t.observable.shallowBox(a,"StructureNode.".concat(this.id,".").concat(e))},enumerable:!0}}function r(a){return{get:function(){return this.$observables[a]=this.$observables[a]||t.observable.shallowBox(),this.$observables[a].get()},set:function(r){if(this.$observables[a]){var n=this.$observables[a];e.isEqual(n.get(),r)||n.set(e.clone(r))}else this.$observables[a]=t.observable.shallowBox(e.clone(r),"StructureNode.".concat(this.id,".").concat(a))},enumerable:!0}}function n(t){var a=this;if(t instanceof n)return t;this.id=t.id,Object.defineProperty(this,"$observables",{enumerable:!1,value:{}}),e.forOwn(t,(function(e,t){a[t]=e}))}var i;return Object.defineProperty(n.prototype,"dataQuery",a("dataQuery")),Object.defineProperty(n.prototype,"propertyQuery",a("propertyQuery")),Object.defineProperty(n.prototype,"designQuery",a("designQuery")),Object.defineProperty(n.prototype,"behaviorQuery",a("behaviorQuery")),Object.defineProperty(n.prototype,"connectionQuery",a("connectionQuery")),Object.defineProperty(n.prototype,"componentType",a("componentType")),Object.defineProperty(n.prototype,"layout",r("layout")),Object.defineProperty(n.prototype,"modes",r("modes")),Object.defineProperty(n.prototype,"skin",a("skin")),Object.defineProperty(n.prototype,"styleId",a("styleId")),Object.defineProperty(n.prototype,"parent",a("parent")),Object.defineProperty(n.prototype,"components",(i="components",{get:function(){return this.$observables[i]},set:function(a){if(this.$observables[i]){if(a){var r=this.$observables[i];e.isEqual(r.toJS(),a)||r.replace(a)}}else this.$observables[i]=function(e,a){if(e)return t.observable.array(e,a)}(a,"StructureNode.".concat(this.id,".").concat(i))},enumerable:!0})),Object.defineProperty(n.prototype,"isStructureNode",{enumerable:!1,value:!0}),n}.apply(t,r))||(e.exports=n)},1278:function(e,t,a){var r,n;r=[a(0),a(20)],void 0===(n=function(e,t){"use strict";return function(a){var r=[],n=t.observable.shallowBox(),i=null,o=e.once((function(){i=t.observable.shallowMap(a),e.forEach(r,(function(e){i.observe(e)})),r=[],n.set(!0)}));return{WixMap:!0,get:function(e){return i?i.get(e):n.get()||a[e]},set:t.action((function(e,t){o(),i.set(e,t)})),keys:function(){return i?i.keys():n.get()||e.keys(a)},delete:t.action((function(e){o(),i.delete(e)})),has:function(t){return i?i.has(t):n.get()||e.has(a,t)},merge:t.action((function(e){o(),i.merge(e)})),forEach:function(t){i?i.forEach(t):(n.get(),e.forEach(a,t))},size:function(){return i?i.size():n.get()||e.size(a)},toJS:function(){return i?i.toJS():n.get()||a},touch:function(){return i?i.forEach(e.noop):n.get()},observe:function(e){i?i.observe(e):r.push(e)}}}}.apply(t,r))||(e.exports=n)},1279:function(e,t,a){var r,n;r=[a(0),a(20)],void 0===(n=function(e,t){"use strict";return function(a,r,n){if(r.length>1)return n;var i=e.defaults({componentPreviewStates:t.observable.map(n.componentPreviewStates)},n);return t.observable(i)}}.apply(t,r))||(e.exports=n)},1280:function(e,t,a){var r,n;r=[a(0),a(20),a(2),a(145)],void 0===(n=function(e,t,a,r){"use strict";var n=function(e,a){return a?t.observable.shallowMap(e):t.observable.map(e)};return function(t){return function(i,o,s){if(o.length>1)return s;try{return n(s||{},t)}catch(l){a.loggingUtils.logger.reportBI(i,a.loggingUtils.bi.errors.DATA_PLUGIN_ERROR,{store:e.head(o),path:o,value:JSON.stringify(s),stack:l.stack});var c=s?r.cloneDeep(s):{};return n(c,t)}}}}.apply(t,r))||(e.exports=n)},1281:function(e,t,a){var r,n;r=[a(0),a(20)],void 0===(n=function(e,t){"use strict";return function(a,r,n){return 1===r.length?t.observable({appState:t.observable.map(e.get(n,"appState")||{}),appManifest:t.observable.map(e.get(n,"appManifest")||{}),appPublicApiName:t.observable.map(e.get(n,"appPublicApiName")||{})}):n}}.apply(t,r))||(e.exports=n)},1282:function(e,t,a){var r,n;function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}r=[a(0),a(20),a(2)],void 0===(n=function(e,t,a){"use strict";var r=a.constants.VIEW_MODES.DESKTOP,n=a.constants.VIEW_MODES.MOBILE;return function(a,o,s){var c;return o.length>1||!e.get(s,"compsToHide")?s:e.defaults({compsToHide:(c={},i(c,r,t.observable.shallowMap(s.compsToHide[r],"compsToHideDesktop")),i(c,n,t.observable.shallowMap(s.compsToHide[n],"compsToHideMobile")),c)},s)}}.apply(t,r))||(e.exports=n)},1283:function(e,t,a){var r,n;r=[a(0),a(20)],void 0===(n=function(e,t){"use strict";function a(a){return t.observable.map(e.assign({},a))}function r(r,n){return(n=function(a,r){return r.clientSpecMap||t.isObservableMap(e.get(a,["rendererModel","clientSpecMap"]))?r:e.defaults({clientSpecMap:{}},r)}(r,n)).clientSpecMap?e.defaults({clientSpecMap:a(n.clientSpecMap)},n):n}return function(e,t,n){return 1===t.length?r(e,n):2===t.length&&"clientSpecMap"===t[1]?a(n):n}}.apply(t,r))||(e.exports=n)},144:function(e,t){e.exports=l},145:function(e,t,a){var r,n;r=[a(0),a(20),a(2)],void 0===(n=function(e,t,a){"use strict";var r=e.keyBy(["wixapps","serviceTopology","compBehavioursMap","routers","mapFromPageUriSeoToPageId","displayedOnlyComponents","wixCode","orphanPermanentDataNodes","committedMobilePages","compFactoryRuntimeState","ssr"]);function n(a,r){if(e.isArray(a)){if(r<0||r>=a.length)return}else if(a.WixMap||t.isObservableMap(a))return a.get(r);return a[r]}function i(t,a){for(var r=t,i=0;i<a.length&&(r=n(r,a[i]),!e.isNil(r));i++);return r}return{setByPath:function n(o,s,c){if(a.wSpy.log("mobx",["setByPath",s.join(".")].concat(Array.prototype.slice.call(arguments))),!e.isEmpty(s)){var l=e.initial(s),u=1===s.length?o:i(o,l),p=e.last(s);if(!u){var g={};return g[p]=c,n(o,l,g)}if(c&&c.isStructureNode)u.set(c.id,c);else if(t.isObservableMap(u)||e.has(u,"WixMap"))u.set(p,c);else if(t.isObservableArray(u))u[p]=c;else if(r[e.head(s)]||u.isStructureNode)u[p]=c;else{var d={};d[p]=c,t.extendObservable(u,d)}}},getByPath:i,getKeys:function(a){if(t.isObservableMap(a)||e.has(a,"WixMap"))return a.keys();if(a.isStructureNode)return e.keysIn(a);if(e.isPlainObject(a)||t.isObservableObject(a))return e.keys(a);throw new Error("Can not get keys of object")},mergeObservable:function(r,n){if(a.wSpy.log("mobx",["mergeObservable"].concat(Array.prototype.slice.call(arguments))),t.isObservableMap(r)||e.has(r,"WixMap"))r.merge(n);else if(r.isStructureNode||e.get(n,["structure","isStructureNode"]))e.assign(r,n);else{if(!t.isObservableObject(r)&&!e.isPlainObject(r))throw new Error("Failed to merge - target object is not an observable object or map");t.isObservableObject(n)&&(n=e.clone(n)),t.extendObservable(r,n)}return!1},isObservableArray:function(e){return t.isObservableArray(e)},removeFromObj:function(r,n){a.wSpy.log("mobx",["removeFromObj"].concat(Array.prototype.slice.call(arguments))),t.isObservableMap(r)||e.has(r,"WixMap")?r.delete(n):t.isObservableObject(r)&&n in r?r[n]=void 0:delete r[n]},cloneDeep:function(r){return a.objectUtils.cloneDeep(r,(function(a){return t.isObservable(a)?t.toJS(a,!1):e.has(a,"WixMap")?a.toJS():void 0}))},touch:function(a){t.isObservableArray(a)||t.isObservableMap(a)?a.forEach(e.noop):t.isObservableObject(a)?e.values(a):t.isObservable(a)?a.get():e.has(a,"WixMap")&&a.touch()},touchDeep:function a(r){t.isObservableArray(r)||t.isObservableMap(r)?r.forEach(a):t.isObservableObject(r)?e.forEach(a):t.isObservable(r)?r.get():e.has(r,"WixMap")&&r.touch()}}}.apply(t,r))||(e.exports=n)},2:function(e,a){e.exports=t},20:function(e,t){e.exports=n},310:function(e,t,a){var r,n;r=[a(0),a(2)],void 0===(n=function(e,t){"use strict";return{isUploadedFontFamily:t.fonts.isUploadedFontFamily,getUploadedFontFaceStyles:t.fonts.getUploadedFontFaceStyles}}.apply(t,r))||(e.exports=n)},311:function(e,t,a){var r,n;r=[a(0)],void 0===(n=function(e){"use strict";return{extractPageTitleFromOriginalTitle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;if(a||!e.includes(t,"|"))return t;var n=t.split("|"),i=n.filter((function(e){return e.trim()!==r.trim()}));return t=i.length?i.join("|").trim():n[0].trim()}}}.apply(t,r))||(e.exports=n)},312:function(e,t,a){var r,n;r=[a(0),a(144),a(2)],void 0===(n=function(e,t,a){"use strict";function r(e){if(e)return e.replace(/["']/g,"").replace(/\n/g," ")}function n(t){if(t)return e(t).mapKeys((function(e,t){return r(t)})).mapValues((function(t){return e.isString(t)?r(t):t})).value()}function i(t){return e.pickBy(t,(function(t){return e.isString(t)&&!e.isEmpty(t)}))}return{getSEOMetaTagsForDynamicPage:function(r,o,s,c){if(!r)return{};var l,u,p=e.omit(r,["metaTags","title"]),g=(l={},u=n(p),l.description=u.description,l.keywords=u.keywords,l.robots="true"===u.noIndex?"noindex":"index",l),d=n(r.metaTags);d&&d["og:image"]&&(d["og:image"]=function(e,r){var n=t.mediaItemUtils.parseMediaItemUri(e);return n.error?e:a.urlUtils.getMediaUrlByContext(n.mediaId,r.staticMediaUrl,r.mediaRootUrl)}(d["og:image"],c));var f={"og:title":s,"og:url":o};return e.assign(f,i(g),i(d))},sanitizeHTMLInjectionFromString:r}}.apply(t,r))||(e.exports=n)},313:function(e,t,a){var r,n;r=[a(0)],void 0===(n=function(e){"use strict";var t={};return{transformData:function(a,r,n){var i=e.head(r),o=t[i];return o?o(a,r,n):n},registerTransformPlugin:function(a,r){if(e.has(t,a))throw new Error("path ".concat(a," already registered in display data transform plugins"));t[a]=r}}}.apply(t,r))||(e.exports=n)},34:function(e,t){e.exports=i},37:function(e,t){e.exports=o},55:function(e,t){e.exports=s},7:function(e,t){e.exports=a},8:function(e,t){e.exports=r},93:function(e,t){e.exports=c}})}));
//# sourceMappingURL=utils.min.js.map