define("textCommon",["lodash","santa-components","componentsCore","prop-types","skins"],(function(t,e,n,i,r){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1167)}({0:function(e,n){e.exports=t},1:function(t,n){t.exports=e},1167:function(t,e,n){var i,r;i=[n(1168),n(1169),n(1171)],void 0===(r=function(t,e,n){"use strict";return{textScaleMixin:t,baseTextInput:e,labelUtils:n}}.apply(e,i))||(t.exports=r)},1168:function(t,e,n){var i,r;i=[n(5),n(1)],void 0===(r=function(t,e){"use strict";return e.mixins.textScaleMixin(t.skinsMap)}.apply(e,i))||(t.exports=r)},1169:function(t,e,n){var i,r;i=[n(0),n(4),n(1),n(3),n(1170)],void 0===(r=function(t,e,n,i,r){"use strict";var a={style:{display:"none"}},o=function(e){var n=e.maxLength,i=e.phoneFormat,r=t.isNil(n)?void 0:n;return i&&(r=i.length),r},s=function(t){var e=t.phoneFormat;return e?e.length:void 0};function u(){var e=this.props.compProp,n=this.props.compData,i={type:n.textType,name:n.name||this.props.structure.nickname,value:this.state.value,onChange:this._handleChange,onBlur:this._handleBlur,onFocus:this._handleFocus,onClick:this._handleClick,onKeyDown:this._handleKeyDown,onInput:this._handleInput,disabled:e.isDisabled,required:e.required,readOnly:e.readOnly,placeholder:n.placeholder||e.placeholder,tabIndex:e.tabIndex};return n.pattern&&t.assign(i,{pattern:n.pattern}),function(e,n){"number"===e.type&&t.assign(e,{min:n.min,max:n.max}),(n.maxLength||n.phoneFormat)&&t.assign(e,{maxLength:o(n),minLength:s(n)})}(i,n),function(e,n){n.step&&"number"===e.type&&t.assign(e,{step:n.step})}(i,n),e.autoComplete&&"password"!==i.type&&(i.autoComplete="on"),i}var l=function(t){return n.mixins.validatableMixin.getPublicState(t)};return{mixins:[i.mixins.skinBasedComp,n.mixins.runTimeCompData,n.mixins.validatableMixin.validatable,n.mixins.compStateMixin(l)],propTypes:{compData:n.santaTypesDefinitions.Component.compData.isRequired,compProp:n.santaTypesDefinitions.Component.compProp.isRequired,structure:n.santaTypesDefinitions.Component.structure.isRequired,shouldResetComponent:n.santaTypesDefinitions.RenderFlags.shouldResetComponent,isPreset:e.bool,onChange:e.func,message:e.string},BASE_TEXT_BEHAVIORS:t.assign({},n.mixins.validatableMixin.VALIDATABLE_BEHAVIORS),getInitialState:function(){return t.assign(l(),{value:this.props.compData.value})},componentWillReceiveProps:function(e){e.shouldResetComponent&&e.shouldResetComponent!==this.props.shouldResetComponent&&this.hideValidityIndication();var n={},i=this.props.compData.phoneFormat,a=i?r.getUnformattedNumber(this.state.value,i,!1):this.state.value;t.has(e.compData,"value")&&e.compData.value!==a&&(n.value=e.compData.value),this.setState(n)},_handleClick:function(t){this.props.isPreset&&t.target.select()},setCustomValidity:function(t){this.refs.input.setCustomValidity(t)},_handleChange:function(t){var e=t.target.value,n=this.props.compData.phoneFormat,i=r.getUnformattedNumber,a=r.formatPhoneNumber,o=r.hasNonNumericChar,s=e,u=e;if(e!==this.state.value){if(n){var l=e.length<this.state.value.length;if(s=a(u=i(e,n,l),n),o(u))return}this.setState({value:s},function(){this.updateData({value:u})}.bind(this)),this.hideValidityIndication(),this.latestChangeEvent=t}},_handleBlur:function(t){this.props.onChange&&this.props.onChange(t),this.handleAction("blur",t),this.latestChangeEvent&&(this.handleAction("change",this.latestChangeEvent),this.latestChangeEvent=null),this.showValidityIndication()},_handleFocus:function(t){this.handleAction("focus",t)},_handleKeyDown:function(t){this.handleAction("keyPress",t)},_handleInput:function(t){this.handleAction("onInput",t)},getBaseTextInputSkinProperties:function(){return{input:u.call(this),message:this.props.message?{children:this.props.message,style:{whiteSpace:"normal",display:"table"}}:a}}}}.apply(e,i))||(t.exports=r)},1170:function(t,e,n){var i;function r(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}void 0===(i=function(){"use strict";var t=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Array.from(e).reduce((function(t,e,n){return"-"===e?[].concat(r(t),[n]):t}),[]).filter((function(e,i){return n?e<=t.length:e<=t.length+i}));return i};return{formatPhoneNumber:function(e,n){var i=t(e,n,!1),r=Array.from(e);return i.forEach((function(t){t<r.length&&r.splice(t,0," ")})),r.join("")},getUnformattedNumber:function(e,n,i){var r=t(e,n);return r.reduce((function(t,n,a){if(" "===e[n])t.splice(n-a,1);else if(" "!==e[n+1]||i){if(" "===e[n-1]&&i){e.split(" ").length-1<r.length?t.splice(n-a,1):t.splice(n-a-1,1)}}else{var o=1-a;t.splice(n+o,1)}return t}),Array.from(e)).join("")},hasNonNumericChar:function(t){return/[^\d]/.test(t)}}}.apply(e,[]))||(t.exports=i)},1171:function(t,e,n){var i,r;i=[n(0)],void 0===(r=function(t){"use strict";return{minInputHeight:25,defaultInputHeight:42,measureComponentWithLabel:function(e,n,i,r){var a,o=e.inputHeight,s=e.inputHeightMobile,u=e.labelMargin,l=r&&s?s:o;if(this.hasLabel(i)){var p=(t.isNumber(u)?u:14)+n.offsetHeight,c=(l||42)+p;a=Math.max(25+p,c)}else l&&(a=Math.max(25,l));return a},getLabelPadding:function(t){var e=t.textAlignment,n=t.labelPadding,i=t.filesAlignment;switch(e||i){case"left":return{paddingLeft:n,paddingRight:"20px"};case"right":return{paddingRight:n,paddingLeft:"20px"};default:return{}}},getLabelFntStyle:function(e,n){if(n){var i=e.fontSize?Number(e.fontSize.replace("px","")):0,r=t.max([16,i]);e.fontSize="".concat(r,"px")}return e},getLabelStyle:function(e,n,i,r){var a=e.textAlignment,o=e.labelMargin,s=e.filesAlignment,u=this.getLabelPadding(e),l=this.getLabelFntStyle(n,i),p=a||s;return t.merge(u,l,{display:this.hasLabel(r)?"inline-block":"none",marginBottom:t.isNumber(o)?o:14,textAlign:p,direction:"right"===p?"rtl":"ltr"})},hasLabel:function(t){return!!t.label},showRequired:function(e,n,i,r){var a=t.get(i,"style.properties.txtlblrq"),o=a&&"transparent"!==a;return this.hasLabel(e)&&n.required&&(r||o)},getBaseInputWithLabelSkinProperties:function(t){var e=t.compProp,n=t.rawFontSyle,i=t.isMobileView,r=t.compData,a=t.id,o=a.compId,s=a.inputId;return{label:{children:r.label,style:this.getLabelStyle(e,n,i,r),htmlFor:"".concat(o).concat(s)}}}}}.apply(e,i))||(t.exports=r)},3:function(t,e){t.exports=n},4:function(t,e){t.exports=i},5:function(t,e){t.exports=r}})}));
//# sourceMappingURL=textCommon.min.js.map