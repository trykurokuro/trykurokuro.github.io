define("compUtils",["lodash","santa-components","coreUtils","componentsCore","prop-types","reactDOM","zepto","experiment","create-react-class","react","mobx","mobx-react","santaProps"],(function(e,t,r,n,o,i,s,a,p,c,u,d,l){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=416)}({0:function(t,r){t.exports=e},1:function(e,r){e.exports=t},13:function(e,t){e.exports=p},14:function(e,t){e.exports=c},177:function(e,t,r){var n,o;n=[r(3),r(417)],void 0===(o=function(e,t){"use strict";return e.compRegistrar.registerWixHOC(t),e.compRegistrar}.apply(t,n))||(e.exports=o)},178:function(e,t,r){var n,o;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n=[r(0),r(14),r(39),r(4),r(33),r(1)],void 0===(o=function(e,t,r,n,o,i){"use strict";var c=new WeakMap,u=r.computedPropsBuilder,d=function(t,r,n,o,i){var s=n.siteAPI,a=s.getSiteData(),p=o.propTypes.skin,c=p&&p.fetch&&p.fetch(),d=e.defaults({siteData:a,hardcodedSkin:c},n),l={fetchSantaType:function(e,t,r){return s.getSantaFetcher(e)(t,r)},siteData:a,siteAPI:s};return u.getInstance(l,d,t,r,!1).getComputedProps(d,i).get()};return function(r,u){var l=c.get(u);if(l){var h=l[r];if(h)return h}else l={},c.set(u,l);var m=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,t);var r,n,o,c=p(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=c.call(this,e)).previousStyleNode=null,t}return r=l,(n=[{key:"render",value:function(){var t=this.props;if(!t.structure&&!function(e){var t=e.siteAPI,r=e.compId,n=e.rootId,o=t.getDisplayedDAL(),i=t.getPointers(),s=t.getSiteData(),a=i.components.getPage(n,s.getViewMode()),p=i.components.getComponent(r,a);return o.isExist(p)}(t))return this.previousStyleNode;var r=function(t,r,n){var o=e.assign({},r.getCompCss.cssTypes,{styleId:r.propTypes.styleId});return d(o,"cssTypes",t,r,n)}(e.assign({id:t.compId},t),u,t.invalidateCache),n=u.getCompCss(r.styleId,r);if(!n)return this.previousStyleNode;var o=t.compId,s=t.siteAPI,a=t.requestRelayout;if(a&&u.getCompFonts){var p=s.getSiteAspect("fontsLoaderAspect");if(p){var c=function(t,r,n){var o=d(r.getCompFonts.fontsTypes,"fontsTypes",n,r),i=r.getCompFonts(t,o);return e.union(i)}(e.keys(n),u,e.assign({id:o},t));p.loadFonts(c,a)}}var l=e.map(n,(function(e,r){return i.utils.styleNodeUtils.generateStyleNode(r,e,t.styleRoot)}));return this.previousStyleNode=l,l}}])&&s(r.prototype,n),o&&s(r,o),l}(t.Component);m.displayName="StyleNode (".concat(r,")"),m.propTypes={styleRoot:n.string,siteAPI:n.object.isRequired,structure:n.object,compId:n.string,rootId:n.string.isRequired,requestRelayout:n.func.isRequired,invalidateCache:n.bool},m.defaultProps={rootId:"masterPage"};var f=o.observer(m);return l[r]=f,f}}.apply(t,n))||(e.exports=o)},179:function(e,t,r){var n,o;n=[r(0),r(20),r(2),r(421)],void 0===(o=function(e,t,r,n){"use strict";var o=new r.SiteDataPrivates;function i(e,r){this._siteAPI=e,this._siteData=r,this._primaryPageId="",this._revealLimit=t.observable.box(0),this._renderProgressPart=16,this._revealId=0,this._maxScroll=0,this.maxScroll=t.computed((function(){var e=this.getScreenInfo(),t=e.scrollY,r=e.screenHeight;return this._maxScroll=Math.max(t+r,this._maxScroll),this._maxScroll}),{context:this})}function s(e){var t=e.getSiteData(),r=o.get(t);return r||(r=new i(e,t),o.set(t,r)),r}i.prototype={getScreenInfo:function(){return{scrollY:this._siteAPI.getSiteAspect("windowScrollEvent").getScrollPosition().y,screenHeight:this._siteData.getScreenHeight()||1080}},isEnabled:function(e,t){if(this._siteData.isInSSR()||!this._siteData.isViewerMode())return!1;if("undefined"==typeof window||!window.clientSideRender&&e)return!1;if(this._siteAPI.getSiteAspect("actionsAspect").hasNextAnchorScroll())return!1;var r=this._siteAPI.getPointers(),n=this._siteAPI.getDisplayedDAL(),o=r.components.getPage(t,this._siteData.getViewMode());return!n.get(r.getInnerPointer(o,["layout","anchors"]),!0)},done:function(){try{var e=new window.CustomEvent("wixFullyRendered",{detail:{progressive:this._isEnabled}});window.dispatchEvent(e)}catch(e){}this._siteAPI.notifyFullyRendered()},reset:function(){var e=this._siteData.getPrimaryPageId();if(e!==this._primaryPageId){var t=!this._primaryPageId;this._primaryPageId=e,this._notRevealedCount=0;var r=this.getScreenInfo(),n=r.scrollY,o=r.screenHeight;this._revealLimit.set(n+o),this._isEnabled=this.isEnabled(t,e),this.get=this._isEnabled?function(){return Math.max(this.maxScroll.get(),this._revealLimit.get())+8}:function(){return Number.MAX_SAFE_INTEGER}}},reveal:function(){var e=this;0===this._revealId&&(this._revealId=n.request((function(t){e._revealId=0;var r=e.getScreenInfo().screenHeight,n=Math.max(e.maxScroll.get(),e._revealLimit.get()+Math.round(r/e._renderProgressPart));e._revealLimit.set(n),e._notRevealedCount>0&&(t&&t.timeRemaining&&(e._renderProgressPart-=t.timeRemaining()>0?2:-2,e._renderProgressPart<=0&&(e._renderProgressPart=1)),e.reveal())})))},incNotRevealedCount:function(){return this._notRevealedCount++},decNotRevealedCount:function(){var e=this._notRevealedCount--;return 1===e&&this._rendered&&this.done(),e},onRendered:function(){0===this._notRevealedCount?this.done():this._rendered=!0}};var a=function(e){return o.get(e.getSiteData())};return{reset:function(e){s(e).reset()},get:function(e){return a(e).get()},incNotRevealedCount:function(e){return a(e).incNotRevealedCount()},decNotRevealedCount:function(e){return a(e).decNotRevealedCount()},auto:function(e){a(e).reveal()},onRendered:function(e){s(e).onRendered()}}}.apply(t,n))||(e.exports=o)},2:function(e,t){e.exports=r},20:function(e,t){e.exports=u},3:function(e,t){e.exports=n},33:function(e,t){e.exports=d},39:function(e,t){e.exports=l},4:function(e,t){e.exports=o},416:function(e,t,r){var n,o;n=[r(3),r(177),r(178),r(419),r(179)],void 0===(o=function(e,t,r,n,o){"use strict";return"undefined"!=typeof window&&e.compRegistrar.registerMobxObserver(n),{compFactory:t,styleNodeFactory:r,mobxObserverWrapper:n,progressiveReveal:o}}.apply(t,n))||(e.exports=o)},417:function(e,t,r){var n,o;n=[r(0),r(4),r(1),r(178),r(418)],void 0===(o=function(e,t,r,n,o){"use strict";var i=function(t){return e.assign({},e.omit(t,"compRef"),{key:t.id,ref:t.compRef})};return function(e,s,a){var p=a(e,o.extendClass(s)),c=n(e,s),u=function(e){return[r.utils.createReactElement(p,i(e)),s.getCompCss?r.utils.createReactElement(c,(t=e,n=t.id,o=t.rootId,a=t.styleRoot,u=t.structure,d=t.siteAPI,l=t.mobxObserverWrapperProps,{key:"".concat(n,"_STYLE"),styleRoot:a||l.styleRoot,siteAPI:d||l.siteAPI,requestRelayout:l.requestRelayout,structure:u,compId:n,rootId:o})):null];var t,n,o,a,u,d,l};return u.propTypes={styleRoot:t.string,compRef:t.func,siteAPI:t.object,structure:t.object,id:t.string,rootId:t.string,mobxObserverWrapperProps:t.PropTypes.shape({siteAPI:t.object.isRequired,requestRelayout:t.func.isRequired,viewerPrivateServices:t.object,addComponentRef:t.func,styleRoot:t.string}).isRequired},u}}.apply(t,n))||(e.exports=o)},418:function(e,t,r){var n,o;n=[r(1)],void 0===(o=function(e){"use strict";return{extendClass:function(t){return t.behaviors||t.behaviorExtensions?e.HOC.withBehaviors(t.behaviors||t.behaviorExtensions)(t):t}}}.apply(t,n))||(e.exports=o)},419:function(e,t,r){var n,o;n=[r(1),r(0),r(7),r(4),r(13),r(6),r(20),r(33),r(2),r(177),r(420),r(179),r(422),r(39),r(8)],void 0===(o=function(e,t,r,n,o,i,s,a,p,c,u,d,l,h,m){"use strict";var f=p.triggerTypesConsts,g=h.computedPropsBuilder,v=h.propsBuilderUtil,y={ENTER:p.siteConstants.Animations.Modes.AnimationType.ENTER,LEAVE:p.siteConstants.Animations.Modes.AnimationType.LEAVE,TRANSITION:p.siteConstants.Animations.Modes.AnimationType.TRANSITION},P=["mobxObserverWrapperProps","childrenSet","pagePointer"],C={"data-dead-comp":!0};function S(e){return{fetchSantaType:function(t,r,n){return e.getSantaFetcher(t)(r,n)},siteData:e.getSiteData(),siteAPI:e}}function b(e,r,n,o){var i=t.isUndefined(r)?"masterPage":r;return{structure:n,rootNavigationInfo:e.getSiteData().getExistingRootNavigationInfo(i),rootId:i,id:o}}function A(e,r,n,o,i){var s=function(e,r,n,o,i){var s=S(e),a=b(e,n,o,i),p=!!t.get(r,"shouldLayout",!1);return g.getInstance(s,a,r.propTypes,"santaTypes",p).getComputedProps(a).get()}(e.mobxObserverWrapperProps.siteAPI,i,e.rootId,o,e.id);return"SITE_PAGES"===e.id&&t.assign(s,e.mobxObserverWrapperProps.propsForSitePages),s.isAffectedByModeChanges=r,n&&(s.className="".concat(s.className||""," transitioning-comp")),s}function I(e,t){return"SantaTypeObserver(".concat(e.displayName||e.name||t.split(".").pop(),")")}function R(e){return!t.isEmpty(e)}function x(e,r,n){var o=t.map(n,(function(n){return!!e||function(e,r){var n=[],o=t.get(e,"modes.definitions");if(o&&o.length){var i=t.map(o,"modeId"),s=t.keys(r);n=t.intersection(s,i)}return!t.isEmpty(n)}(n,r)}));return t.zipObject(t.map(n,"id"),o)}function _(){var e=this.props.mobxObserverWrapperProps,r=e.siteAPI.getDisplayedDAL(),n=e.siteAPI.getPointers(),o=e.siteAPI.getSiteData();this.pagePointer=this.props.pagePointer||s.computed((function(){var e=o.getViewMode();return n.components.getPage(this.props.rootId,e)||n.components.getMasterPage(e)}),{context:this,compareStructural:!0,name:"pagePointer_".concat(this.props.id)}),this.childrenPointers=s.computed((function(){var e=this.pagePointer.get(),o=n.components.getComponent(this.props.id,e);if(function(e,t,r){var n=e&&t.components.getChildrenContainer(e);n&&r.get(n)}(o,n,r),!o)return[];var i=r.getByPath(["pageStubComponents",e.id]);return t.filter(n.components.getChildren(o),(function(e){return!i||i[e.id]}))}),{context:this,compareStructural:!0,name:"childrenPointers_".concat(this.props.id)}),this.computedChildrenToRender=s.computed((function(){return function(e,r,n){return t.map(e,(function(e){return{id:r.get(n.getInnerPointer(e,["id"])),componentType:r.get(n.getInnerPointer(e,["componentType"]))}}))}(this.childrenPointers.get(),r,n)}),{context:this,compareStructural:!0,name:"computedChildrenToRender_".concat(this.props.id)}),this.magicStructure=new u(o,r,n,this.props.id,this.pagePointer,this.computedChildrenToRender,this.props.computedParentDimensions),this.computedDimensions=s.computed((function(){return this.props.structure?{}:this.magicStructure.dimensions}),{name:"computedDimensions_".concat(this.props.id),context:this}),this.compModes=s.computed((function(){var e=t.get(this.magicStructure.modes,"definitions");if(t.isEmpty(e))return{};var o=this.pagePointer.get().id,i=n.activeModes.getPageActiveModes(o),s=r.get(i);return t(s).mapValues((function(r,n){return t.some(e,{modeId:n})})).pickBy().value()}),{context:this,compareStructural:!0,name:"".concat(this.props.id,"_activeModes")}),this.compBehaviors=s.computed((function(){var e=this.props.mobxObserverWrapperProps.siteAPI,t=this.props.structure||this.magicStructure,r=t.behaviorQuery,n=t.propertyQuery;return v.getCompBehaviors(e,n,r,this.props.rootId,this.props.id)}),{context:this,compareStructural:!0,name:"".concat(this.props.id,"_compBehaviors")}),this.shouldReveal=s.computed((function(){return!(this.calcComponentTop()>d.get(this.props.mobxObserverWrapperProps.siteAPI))}),{context:this,name:"".concat(this.props.id,"_reveal")})}function O(){var e=this.props.mobxObserverWrapperProps.siteAPI,t=e.getPointers(),r=e.getDisplayedDAL(),n=this.pagePointer.get(),o=t.components.getComponent(this.props.id,n);(this.props.structure||o&&r.isExist(o))&&e.registerCompBehaviours(this.props.rootId,this.props.id,this.compBehaviors.get())}function T(){return s.observe(this.compBehaviors,O.bind(this),{})}function D(e,n,o,s,a){var c=e.getComponentByPageAndCompId(n,o);if(c){var u=t.clone(s);u.zIndex=function(e,r,n){var o;if(t.includes(e.getRenderRealtimeConfigItem("compsToShowOnTop"),r))o=p.style.MAX_Z_INDEX;else if(n){o=e.getRenderFlag("renderFixedPositionContainers")?50:49}else o="";return o}(e,o,a),c.hasOwnProperty("getRootStyle")&&t.assign(u,c.getRootStyle(u)),r(i.findDOMNode(c)).css(u)}}return function(r,i){return a.observer(o({displayName:I(i,r),mixins:[p.renderDoneMixin],propTypes:{id:n.string.isRequired,structure:n.object,rootId:n.string,mobxObserverWrapperProps:n.object.isRequired,anyChangeInParentActiveModes:n.bool,applyStyleOverrides:n.bool,calcParentY:n.func},componentDidCatch:function(e,t){p.integrations.ravenUtils.captureError(e,{tags:{compType:this.props.structure&&this.props.structure.componentType},extra:{id:this.props.id,info:t}})},componentWillMount:function(){this.transitioningChildrenPrevLayout={},this.currentlyAnimatingChildren={},this.childrenAnimations={},this.renderedCompProps={},this.childrenToRender={},this._lastRenderedComp=null,this.stylesToApplyDomOnly=null,_.call(this),this.prevActiveModes=null,this.disposeReactions=T.call(this),this.props.mobxObserverWrapperProps.siteAPI.setComponentRenderStart(this.props.id||this.props.structure.id);var e=this.props.mobxObserverWrapperProps.siteAPI,r=this.props.structure||this.magicStructure,n=S(e),o=b(e,this.props.rootId,r,this.props.id),s=!!t.get(i,"shouldLayout",!1);this.computedPropsManager=g.getInstance(n,o,i.propTypes,"santaTypes",s),d.reset(e)},componentWillUpdate:function(){this.setComponentRenderStartIfNeeded()},componentWillReact:function(){this.props.mobxObserverWrapperProps.siteAPI.getSiteData().reacted=!0,this.setComponentRenderStartIfNeeded()},componentWillUnmount:function(){var e=this.props.mobxObserverWrapperProps.siteAPI;e.cancelReLayoutPending(this.props.id||this.props.structure.id),e.unregisterCompBehaviours(this.props.rootId,this.props.id||this.props.structure.id),t.invoke(this,"disposeReactions")},componentDidMount:function(){var e=this.props.mobxObserverWrapperProps.siteAPI;O.call(this),this.prevActiveModes=this.compModes.get(),p.displayedOnlyStructureUtil.isRepeatedComponent(this.props.id)&&e.requestEnforceAnchors(),e.setComponentRenderEnd(this.props.id||this.props.structure.id),!1===this._isRevealed&&d.auto(e)},getModesChanges:function(){var e=this.compModes.get();return this.prevActiveModes?p.modesUtils.getModeChanges(this.prevActiveModes,e):{}},componentDidUpdate:function(){var e=this.props.mobxObserverWrapperProps.siteAPI,r=m.isOpen("sv_handleFailingWixCodeSdk",e.getSiteData())?e.getSiteAspect("WidgetAspect").isContextReadyOrLifeCycleFailed(this.props.rootId):e.getSiteAspect("WidgetAspect").isContextReady(this.props.rootId);if(this.stylesToApplyDomOnly&&e.isDuringPostUpdatesOperations(this.props.id)||!r)return e.removePostUpdateOperationsRender(this.props.id),void e.cancelReLayoutPending(this.props.id);if(R(this.childrenAnimations)&&(!function(e,t,r,n,o,i){t.getSiteAspect("actionsAspect").executeAction("modeChange",f.MODE_CHANGED_INIT,{modeChanges:r,componentAnimations:n,transitioningComponentsPrevLayout:o,pageId:e,onComplete:i})}(this.props.rootId,e,this.getModesChanges(),this.childrenAnimations,this.transitioningChildrenPrevLayout,this.handleModeChangeAnimationsFinished),function(e){e.getSiteAspect("actionsAspect").executeAction("modeChange",f.MODE_CHANGED_EXECUTE)}(e),this.childrenAnimations={},this.transitioningChildrenPrevLayout={},this.leavingChildrenIds={}),this.stylesToApplyDomOnly){var n=t.get(this.magicStructure,"layout.fixedPosition",!1);D(e,this.props.rootId,this.props.id,this.stylesToApplyDomOnly,n),i.applyCompSpecificDomOnlyPatches&&i.applyCompSpecificDomOnlyPatches(this,this.renderedCompProps.style),this.stylesToApplyDomOnly=null}var o=this.props.mobxObserverWrapperProps.siteAPI.getPointers(),s=this.props.mobxObserverWrapperProps.siteAPI.getDisplayedDAL(),a=this.pagePointer.get(),c=this.computedChildrenToRender.get();this.childrenData={rotationDegrees:t.reduce(c,(function(e,r){var n=r.id,i=o.components.getComponent(n,a);return t.set(e,n,s.get(o.getInnerPointer(i,"layout.rotationInDegrees")))}),{})},this.prevActiveModes=this.compModes.get(),p.displayedOnlyStructureUtil.isRepeatedComponent(this.props.id)&&e.requestEnforceAnchors(),this.computedPropsManager.clearChangedPropsMap();var u=this.props.id||this.props.structure.id;this.shouldLayout&&e.setComponentRenderEnd(u)},getRenderedCompProps:function(e,r){var n,o=e.mobxObserverWrapperProps.siteAPI,s=this.currentlyAnimatingChildren,a=this.getModesChanges(),p=!t.isEmpty(a),c=e.structure||this.magicStructure,u=function(e,t,r,n,o,i){var s=n&&!!i,a=A(o,n,o.compAnimationType===y.TRANSITION||s,t,e);return a.childrenSet=r,a}(i,c,this.props.structure?[]:this.computedChildrenToRender.get(),p,e,r);if(p){var d=x(u.isAffectedByModeChanges,a,this.computedChildrenToRender.get());this.childrenAnimations=function(e,r,n){var o=t.keyBy(e.childrenSet,"id"),i=t.keyBy(r.childrenSet,"id"),s=t.reduce(i,(function(e,r,n){return!!o[n]?e:t.set(e,n,y.ENTER)}),{});return t.reduce(o,(function(e,r,o){return!!i[o]?n[o]?t.set(e,o,y.TRANSITION):e:t.set(e,o,y.LEAVE)}),s)}(r,u,d),this.transitioningChildrenPrevLayout=function(e,r,n){var o=e.getSiteData().measureMap;if(!o)return{};var i=e.getSiteAspect("windowScrollEvent").getScrollPosition(),s=t.partial(t.isEqual,y.TRANSITION);return t(r).pickBy(s).mapValues((function(e,r){return{width:o.width[r],height:o.height[r],left:o.absoluteLeft[r]-i.x,top:o.absoluteTop[r]-i.y,rotation:t.get(n,["rotationDegrees",r])}})).value()}(o,this.childrenAnimations,this.childrenData),this.leavingChildrenIds=(n=this.childrenAnimations,t(n).pickBy((function(e){return e===y.LEAVE})).keys().value()),t.assign(s,this.childrenAnimations)}return R(s)?(this.childrenToRender=function(e,r,n,o){var i=t.filter(n,(function(e){return!!o[e.id]}));return t.unionBy(e.childrenSet,i,r.childrenSet,"id")}(r,u,this.childrenToRender,s),u.leavingChildrenIds=this.leavingChildrenIds):this.childrenToRender=u.childrenSet,t.assign({},u,{ref:this.compRefFunction},this.props)},compRefFunction:function(e){this.props.mobxObserverWrapperProps.addComponentRef&&this.props.mobxObserverWrapperProps.addComponentRef(e,this.props.id)},calcComponentTop:function(){var e=this.props.mobxObserverWrapperProps.siteAPI.getSiteData(),t=(this.computedDimensions.get().y||0)+(this.props.calcParentY?this.props.calcParentY():0),r=e.measureMap&&e.measureMap.absoluteTop&&e.measureMap.absoluteTop[this.props.id];return r<t?r:t},getChildProps:function(e){return{id:e,rootId:this.props.rootId,anyChangeInParentActiveModes:!(!this.props.anyChangeInParentActiveModes&&t.isEmpty(this.getModesChanges())),computedParentDimensions:this.computedDimensions,mobxObserverWrapperProps:this.props.mobxObserverWrapperProps,pagePointer:this.pagePointer,key:e,refInParent:e,calcParentY:this.calcComponentTop}},setComponentRenderStartIfNeeded:function(){var e=this;this.shouldLayout=function(){var r=e.computedPropsManager.getChangedProps(),n=i.shouldLayout;if(n){if(t.isFunction(n))return n(r);if(t.isObject(n))return t.some(r,(function(e,r){return t.isUndefined(n[r])||n[r]}))}return!0}(),this.shouldLayout&&this.props.mobxObserverWrapperProps.siteAPI.setComponentRenderStart(this.props.id||this.props.structure.id)},render:function(){var r=this,n=this.props.mobxObserverWrapperProps.siteAPI,o=m.isOpen("sv_handleFailingWixCodeSdk",n.getSiteData())?n.getSiteAspect("WidgetAspect").isContextReadyOrLifeCycleFailed(this.props.rootId):n.getSiteAspect("WidgetAspect").isContextReady(this.props.rootId);if(!this.props.structure&&!this.magicStructure.id||!o)return this._lastRenderedComp;var s=t.clone(this.renderedCompProps);this.renderedCompProps=this.getRenderedCompProps(this.props,s);var a=this.props.structure||this.magicStructure,u=!!t.get(a,["layout","docked"]),h=!(this.wasDocked&&!u)&&n.getLayoutMechanism()===p.constants.LAYOUT_MECHANISMS.ANCHORS;if(this.wasDocked=u,this.stylesToApplyDomOnly=h&&l.getStylesToApplyDomOnly(s,this.renderedCompProps,i,a),this.stylesToApplyDomOnly)return this._lastRenderedComp;var f,g,v,y=this._isRevealed;return this._isRevealed=y||this.shouldReveal.get(),this._isRevealed?(f=i,g=t.omit(this.renderedCompProps,P),v=t.map(this.childrenToRender,(function(t){var n;return((n=t.componentType)&&c.getCompClass(n)||e.utils.createReactElement.bind(null,"div"))(r.getChildProps(t.id))})),!1===y&&d.decNotRevealedCount(n)):(f="div",g=C,!1!==y&&d.incNotRevealedCount(n)),this._lastRenderedComp=e.utils.createReactElement(f,g,v),this._lastRenderedComp},handleModeChangeAnimationsFinished:function(e){this.currentlyAnimatingChildren=t.omit(this.currentlyAnimatingChildren,t.keys(e)),R(this.currentlyAnimatingChildren)||this.forceUpdate()}}))}}.apply(t,n))||(e.exports=o)},420:function(e,t,r){var n,o;n=[r(0),r(20),r(2)],void 0===(o=function(e,t,r){"use strict";var n=e(r.constants.COMP_DATA_QUERY_KEYS).values().concat(["id","componentType","type","modes","layout","skin","styleId","originalStyleId","originCompId"]).value();function o(t,r,n,o,i,s,a){var p,c;p=this,c={cachedComputedStructureValues:{},siteData:t,displayedDAL:r,pointers:n,compId:o,computedPagePointer:i,computedChildrenToRender:s,computedParentDimensions:a},e.forOwn(c,(function(e,t){Object.defineProperty(p,t,{value:e,enumerable:!1})}))}function i(e){if(this.cachedComputedStructureValues[e])return this.cachedComputedStructureValues[e].get();var r=t.computed((function(){var t=this.pointers.components.getComponent(this.compId,this.computedPagePointer.get());if(!t||!this.displayedDAL.isExist(t))return null;var r=this.pointers.getInnerPointer(t,[e]);return this.displayedDAL.getStructureProperty(r)}),{context:this,compareStructural:!0,name:"".concat(this.compId,"_MagicStructure_").concat(e)});return this.cachedComputedStructureValues[e]=r,r.get()}return o.prototype=e.transform(n,(function(e,t){Object.defineProperty(e,t,{get:function(){return i.call(this,t)}})}),{}),Object.defineProperty(o.prototype,"components",{get:function(){if(this.cachedComputedStructureValues.components)return this.cachedComputedStructureValues.components.get();var r=t.computed((function(){return e.map(this.computedChildrenToRender.get(),"id")}),{context:this,compareStructural:!0,name:"".concat(this.compId,"_MagicStructure_components")});return this.cachedComputedStructureValues.components=r,r.get()}}),Object.defineProperty(o.prototype,"dimensions",{get:function(){if(this.cachedComputedStructureValues.dimensions)return this.cachedComputedStructureValues.dimensions.get();var e=t.computed((function(){return r.positionAndSize.isVerbsLayout(this.layout)?r.positionAndSize.getVerbsPositionAndSize(this.layout,this.computedParentDimensions.get(),this.siteData.getScreenSize(),this.siteData.getSiteWidth()):r.positionAndSize.getAbsolutePositionAndSize(this.layout)}),{context:this,compareStructural:!0,name:"".concat(this.compId,"_MagicStructure_dimensions")});return this.cachedComputedStructureValues.dimensions=e,e.get()}}),o}.apply(t,n))||(e.exports=o)},421:function(e,t,r){var n;void 0===(n=function(){"use strict";return"undefined"!=typeof window&&window.requestIdleCallback?{request:window.requestIdleCallback.bind(window),cancel:window.cancelIdleCallback.bind(window)}:{request:function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},cancel:function(e){clearTimeout(e)}}}.apply(t,[]))||(e.exports=n)},422:function(e,t,r){var n,o;n=[r(0),r(2)],void 0===(o=function(e,t){"use strict";var r=function(t,r,n){var o=e.pickBy(r,(function(r,n){return t[n]!==r&&!e.isEqual(t[n],r)}));return 1===e.size(o)&&!!o[n]};var n=function(r){var n=t.style.getPrefixedTransform();if(!e.has(r,[n]))return r;var o=e.clone(r),i=n.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())}));return o[i]=r[n],n!==i&&(o[n]=""),o},o=function(e,t){return r(e,t,"style")},i=function(e,t){return r(e,t,"top")};return{getStylesToApplyDomOnly:function(t,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=s.compSpecificIsDomOnlyOverride,p=o(t,r);if(p&&i(t.style,r.style)){var c={top:r.style.top};return n(c)}var u=p&&r.style.display===t.style.display;return e.isFunction(a)&&(u=u&&a(t,r)),u?n(r.style):null}}}.apply(t,n))||(e.exports=o)},6:function(e,t){e.exports=i},7:function(e,t){e.exports=s},8:function(e,t){e.exports=a}})}));
//# sourceMappingURL=compUtils.min.js.map